# プロジェクト概念と用語集

## 1. はじめに

このドキュメントは、「AWSオブザーバビリティ学習用eコマースアプリ」開発プロジェクト全体で共通理解を持つために、主要な用語とその定義、要素間の関係性、および各種成果物のID命名規則を定めます。
本ドキュメントは、特に「[02_requirements_definition_process.md](link/to/02_requirements_definition_process.md)」および「[03_agile_project_management.md](link/to/03_agile_project_management.md)」を読む上での基礎知識を提供します。

## 2. ユーザーストーリーマッピングの基本用語

ユーザーストーリーマッピングは、プロダクトの全体像を把握し、ユーザー価値を明らかにするための手法です。

- **アクティビティ (Activity):**
  - ユーザーがシステムで行う大きな一連の行動や体験、またはシステムが提供する主要な機能領域。ユーザーストーリーマッピングにおけるバックボーンや大きなテーマに相当します。
  - 例: `ACT-SHOPPING` (商品購入体験全般), `ACT-OBSERVABILITY` (システムの可観測性確保)
- **バックボーン (Backbone):**
  - ユーザーストーリーマップにおいて、ユーザー活動の主要なステップを時系列に並べたもの。アクティビティの骨格となります。
  - 例 (ACT-SHOPPINGの場合): 「商品を検索する」→「商品詳細を見る」→「カートに入れる」→「注文する」
- **ユーザーストーリー (マッピングレベル):**
  - アクティビティを構成する、特定のユーザー（役割）にとって価値のある機能要求。「〇〇（役割）として、△△（目的）のために、□□（機能）がしたい」という形式で記述されます。スプリントで開発するPBIに分割される前の、価値の単位です。バックボーンの各ステップの下に配置されます。
  - 例: 「顧客として、興味のある商品を後で見返せるように、お気に入り登録したい」
- **リリース計画のための優先順位ライン:**
  - ユーザーストーリーマップ上で、どのユーザーストーリー群をどのリリース（例: MVP、リリース1.1）に含めるかを示す境界線。視覚的にスコープを決定するのに役立ちます。

## 3. アジャイル開発の基本用語

本プロジェクトで採用するアジャイル開発に関連する主要な用語を定義します。

### 3.1. 設計概念 (主にドキュメントで管理)

これらはプロダクトの全体像や大きな機能要求を定義し、主にリポジトリ内のドキュメント (`docs/` ディレクトリ) で管理されます。

- **アクティビティ (Activity):** (上記2. ユーザーストーリーマッピングの基本用語を参照)
- **ユーザーストーリー (マッピングレベル):** (上記2. ユーザーストーリーマッピングの基本用語を参照)
- **ユースケース (Use Case):**
  - システムが特定の目標を達成するために、アクター（ユーザーや外部システム）とどのように相互作用（インタラクション）するかを詳細に記述したもの。基本フロー（正常系）に加え、代替フローや例外フローを含むことが多いです。ユーザーストーリーの「どのように」を実現するかを明確にします。
  - 例: `UC-CUST-CHECKOUT-01` (顧客による注文処理ユースケース)

### 3.2. 開発管理アイテム (主にGitHub Issues & Projectsで管理)

これらは実際にスプリントで計画・実行される作業単位です。

- **プロダクトバックログ (Product Backlog):**
  - プロダクトに必要な全ての機能、改善、修正などを優先順位付けしてリスト化したもの。常に変化し、最新の状態に保たれます。
- **プロダクトバックログアイテム (PBI):**
  - プロダクトバックログに含まれる個々の項目。ユーザーストーリー (開発レベル)、リファクタリングタスク、技術調査などが該当します。スプリント内で完了可能なサイズに分割されることが理想です。
- **ユーザーストーリー (開発レベル):**
  - PBIの一種で、マッピングレベルのユーザーストーリーを具体化・分割し、スプリントで開発可能なサイズにしたもの。「〇〇として、△△のために、□□したい」形式で記述されます。
- **リファクタリング (Refactoring):**
  - PBIの一種で、外部から見た振る舞いを変えずに、内部構造を改善する作業。
- **エピック (Epic - 開発管理レベル):**
  - 特定の目的（例: MVPリリース、大規模機能群の初回リリース）を達成するための開発の塊。複数のPBIを含み、複数のスプリントにまたがることが多いです。完了したらクローズされます。（ライフサイクルに関する記述を追記）
  - 本プロジェクトでは、ビジネス機能領域 (例: `EP-SHOPPING`) と、横断的な技術基盤/関心事 (例: `EP-CROSSCUTTING-AUTH`, `EP-CROSSCUTTING-OBS`) の両方を定義します。

### 3.3. アジャイルプロセス関連用語

- **スプリント (Sprint):**
  - 価値のあるインクリメント（動くソフトウェアの一部）を生み出すための、固定長の短い期間（本プロジェクトでは1〜2週間を想定）。
- **スプリントゴール (Sprint Goal):**
  - 各スプリントで達成すべき具体的な目標。スプリント計画で設定されます。
- **スプリント計画 (Sprint Planning):**
  - スプリントの開始時に行われるイベント。スプリントゴールを設定し、達成に必要なPBIをプロダクトバックログから選択し、スプリントバックログを作成します。
- **リリース計画 (Release Planning):**
  - プロダクトの中期的な目標を設定し、複数のスプリントにまたがる大きな機能群（エピックや特定のバージョン）をいつ頃までに市場に提供できるかのロードマップを描く活動。個々のスプリント計画よりも長期的かつ大局的な視点で行われます。
- **スプリントレビュー (Sprint Review):**
  - スプリントの終了時に行われるイベント。完成したインクリメントをステークホルダー（今回はご自身）にデモンストレーションし、フィードバックを得ます。
- **スプリントレトロスペクティブ (Sprint Retrospective):**
  - スプリントの終了時に行われるイベント（スプリントレビュー後）。スプリントの進め方（プロセス、ツール、人間関係など）を振り返り、改善点を見つけます。
- **ストーリーポイント (Story Points):**
  - PBIの相対的な作業量や複雑さを見積もるための単位。
- **完了の定義 (Definition of Done - DoD):**
  - PBIが「完了」とみなされるための基準のチェックリスト。

### 3.4. ツール関連用語 (新規追加セクション)

- **GitHub Projects:** 本プロジェクトで採用するプロジェクト管理ツール。カンバンボードやテーブルビューでPBIやエピックの進捗を可視化し、管理します。
- **Issue (GitHub Issue):** GitHub上でPBI、エピック、スプリント計画、リトロスペクティブなどを管理するための基本的な単位。各作業項目や議論の場として利用されます。

## 4. 要素間の関係性と階層構造

要求定義から開発に至るまでの各要素は、相互に関連し、階層構造を成します。

### 4.1. ユーザーストーリーマッピングとアジャイル開発要素の対応関係

- **アクティビティとエピックの関係:**
  - ユーザーストーリーマッピング上の「アクティビティ」は、アジャイル開発管理上の「エピック」に相当、または密接に関連します。アクティビティが大きなユーザー体験の単位であるのに対し、エピックはその体験を実現するための開発プロジェクトの大きな塊です。
  - 例: アクティビティ `ACT-SHOPPING` は、エピック `EP-SHOPPING-MVP` (MVPリリース向けショッピング機能群) や `EP-SHOPPING-V2` (ショッピング機能拡張) に繋がります。
- **マッピングレベルのユーザーストーリーと開発レベルのユーザーストーリー（PBI）の関係:**
  - ユーザーストーリーマッピングで洗い出された「マッピングレベルのユーザーストーリー」は、プロダクトバックログに取り込まれる際に、開発可能なサイズに分割・詳細化され、「開発レベルのユーザーストーリー (PBI)」となります。1つのマッピングレベルのユーザーストーリーから、複数のPBIが生まれることもあります。

### 4.2. エピック・ユーザーストーリー・ユースケースの階層構造

```mermaid
graph TD
    subgraph ビジネス価値/目標 (数ヶ月〜年単位)
        E1(EPIC: 主要ビジネス機能A<br/>例: EP-SHOPPING)
        E2(EPIC: 横断的関心事 X<br/>例: EP-CROSSCUTTING-OBS)
    end

    subgraph 具体的な機能要求 (開発単位: 数日〜1スプリント)
        E1 --> US1_1(UserStory 1.1<br/>例: US-CUST-BROWSE-01)
        E1 --> US1_2(UserStory 1.2)
        E2 --> US_OBS_IMPL(UserStory: 基盤実装<br/>例: US-DEV-OBS-IMPL-01)
        E2 --> US_OBS_USE(UserStory: 機能利用<br/>例: US-SRE-OBS-ALERT-01)
    end

    subgraph システムの振る舞い (詳細仕様、操作単位)
        US1_1 --> UC1_1(UseCase A.1<br/>例: UC-CUST-BROWSE-01)
        US_OBS_USE --> UC_OBS_USE(UseCase X.Use<br/>例: UC-SRE-OBS-ALERT-01)
        US1_2 -->|シンプルなら不要| UC1_2(UseCase A.2<br/>例外系など);
    end

    style E1 fill:#f9f,stroke:#333,stroke-width:2px
    style E2 fill:#f9f,stroke:#333,stroke-width:2px
    style US1_1 fill:#ccf,stroke:#333,stroke-width:1px
    style US1_2 fill:#ccf,stroke:#333,stroke-width:1px
    style US_OBS_IMPL fill:#ccf,stroke:#333,stroke-width:1px
    style US_OBS_USE fill:#ccf,stroke:#333,stroke-width:1px
    style UC1_1 fill:#cfc,stroke:#333,stroke-width:1px
    style UC_OBS_USE fill:#cfc,stroke:#333,stroke-width:1px
    style UC1_2 fill:#cfc,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5
```

- **エピック (Epic)**: プロダクトの大きなビジネス価値の塊や戦略的目標。複数のユーザーストーリーを包含します。
- **ユーザーストーリー (User Story)**: 特定のペルソナにとって価値のある、独立してテスト・リリース可能な最小単位の機能要求。
- **ユースケース (Use Case)**: ユーザーストーリーで定義された要求に対し、システムがどのように振る舞うかを具体的に記述。

### 4.3. ペルソナ中心の考え方

本プロジェクトでは、ユーザーストーリーとユースケースは、特定の**ペルソナ**（ユーザー像）の視点やニーズに基づいて定義・分類されます。これにより、「誰にとっての価値なのか」が常に明確になります。
定義されているペルソナの例:

- `CUST`: 顧客 (田中 陽子)
- `MGR`: ECストアマネージャー (佐藤 健太)
- `DEV`: 開発者 (山田 修一)
- `SRE`: SRE/運用担当者 (鈴木 誠)
- (その他、`SEC`: セキュリティ担当者, `BA`: ビジネスアナリスト, `ADMIN`: 管理者全般, `SYS`: システム)

### 4.4. 実装ストーリーと利用ストーリーの区別

特に技術基盤やオブザーバビリティ計装など、それ自体の導入・設定が将来の効率性、品質向上、非機能要件達成に繋がるものについて、ユーザーストーリーを区別します。

- **実装ストーリー**:
  - 主に開発者(`DEV`)やSRE(`SRE`)向け。横断的な基盤の構築や、技術的な仕組みの導入自体に価値を置くストーリー。
  - 例: `US-DEV-AUTH-IMPL-01` (認証基盤実装)
  - 目的（Why）には、将来の効率性、保守性、非機能要件への貢献などを記述します。
- **利用ストーリー**:
  - すべてのペルソナ向け。特定の機能を使って目的を達成するストーリー。
  - 例: `US-CUST-BROWSE-01` (商品閲覧)、`US-SRE-OBS-ALERT-01` (アラート受信)

実装ストーリーは、関連する利用ストーリーを意識し、過不足ない実装となるよう連携して扱います。

## 5. ID命名規則

プロジェクト内の各要素を一意に識別し、トレーサビリティを確保するため、以下のID命名規則を採用します。

### 5.1. 基本形式と各要素の説明

- **基本形式 (設計概念 - ドキュメント管理):**
  - アクティビティ: `ACT-[機能エリア略称]`
  - ユーザーストーリー (マッピングレベル): `US-[ペルソナ略称]-[機能エリア略称]-[識別子]`
    - 識別子は機能を具体的に示す **大文字のケバブケースまたはスネークケース** 推奨。
- **基本形式 (開発管理アイテム - GitHub Issue管理):**
  - エピック: `EP-[機能エリア略称]-[連番]`
  - PBI (開発レベルユーザーストーリー等): `PBI-[ペルソナ略称]-[機能エリア略称]-[US識別子]-[連番]`
    - `[US識別子]` は、元となるマッピングレベルユーザーストーリーの `[識別子]` 部分。
    - `[連番]` は、同じマッピングレベルUSから分割された場合に付与。
- **基本形式 (その他設計要素 - ドキュメント管理、id-convention.mdより):**
  - ユースケース: `UC-[ペルソナ略称]-[機能エリア略称]-[連番]`
  - 非機能要件: `NFR-[ペルソナ略称/SYS]-[機能エリア略称]-[連番]`
  - 画面: `SCR-[ペルソナ略称/ADMIN]-[機能エリア略称]-[連番]`
  - 機能: `FN-[ペルソナ略称/SYS]-[機能エリア略称]-[連番]`

### 5.2. ペルソナ略称と機能エリア略称のリスト

#### 5.2.1. ペルソナ略称

- `CUST`: 顧客
- `MGR`: ECストアマネージャー
- `DEV`: 開発者
- `SRE`: SRE/運用担当者
- `SEC`: セキュリティ担当者
- `BA`: ビジネスアナリスト
- `ADMIN`: 管理者全般 (MGR, SRE, SEC, BA など複数の管理系ペルソナに共通する要素)
- `SYS`: 特定ペルソナに限定されず、システム全体の基盤や内部的な仕組みに関するもの

#### 5.2.2. 機能エリア略称 (主要なもの、必要に応じて追加・修正)

- **ACCOUNT**: 顧客アカウント関連
- **ALERT**: アラート
- **AUTH**: 認証・認可
- **BROWSE**: 商品閲覧
- **CART**: ショッピングカート
- **CHECKOUT**: チェックアウト、注文処理
- **CICD**: CI/CDパイプライン
- **CODE**: コード保守性
- **IAC**: Infrastructure as Code
- **IMPL**: 基盤・仕組みの実装
- **LOG**: ログ関連
- **MAINT**: 保守性全般
- **METRIC**: メトリクス関連
- **MON**: モニタリング
- **NOTIF**: 通知
- **OBS**: オブザーバビリティ全般
- **ORDER**: 受注・出荷管理
- **OTEL**: OpenTelemetry関連
- **PERF**: パフォーマンス関連
- **PROD**: 商品情報管理
- **SHOPPING**: ショッピング体験全般 (ACTやEPで使用)
- **TRACE**: トレース関連
- (その他、`id-convention.md`により多くの略称が定義されています)

### 5.3. 具体例と適用ガイドライン

- `ACT-SHOPPING`: ショッピング体験に関するアクティビティ
- `US-CUST-BROWSE-LIST-ALL`: 顧客が全商品一覧を閲覧するマッピングレベルユーザーストーリー
- `EP-SHOPPING-01`: ショッピング機能群の初期開発エピック
- `PBI-CUST-BROWSE-LIST-ALL-01`: 上記USから作成されたPBI
- `UC-MGR-PROD-01`: ECストアマネージャーが商品を登録・更新するユースケース
- `NFR-SRE-PERF-01`: SREが関心を持つパフォーマンスに関する非機能要件
- **横断的エピック**: `EP-CROSSCUTTING-OBS` (オブザーバビリティ基盤に関する横断的エピック)
- **実装ストーリーの機能エリア**: `-IMPL` を接尾辞として付与することを推奨 (例: `AUTH-IMPL`, `OBS-IMPL`)

## 6. トレーサビリティと管理方針

### 6.1. 要求から実装までの追跡方法

- **エピック ⇔ PBI**:
  - エピックのIssue本文に、関連するPBIのIDやリンクを記載します。
  - PBIのIssue本文またはカスタムフィールド（例: `Epic Link`）に、関連するエピックのIDを記載し、双方向のトレーサビリティを確保します。 (PBI側からの紐付けを明確化)
- **マッピングレベルUS → PBI**: PBIのIDに元のUS識別子を含め、PBIのIssue本文に元のマッピングレベルUSのID (`US-...`) を記載推奨します。
- **PBI → 実装コード**: コミットメッセージやプルリクエストに、関連するPBIのIssue番号を記載します (例: `Closes #123`)。
- **ユーザーストーリー → ユースケース**: ユースケースドキュメント内に、関連するユーザーストーリーIDを明記します。

### 6.2. ID体系によるトレーサビリティの確保

統一されたID命名規則と、上記のような関連付けルールを運用することで、ビジネス要求（エピック、ユーザーストーリー）から、具体的なシステム仕様（ユースケース）、開発タスク（PBI）、そして最終的な実装コードまでを追跡可能にします。これにより、変更影響分析や、要求が正しく実装されているかの確認が容易になります。
