# 1. テキスト形式ユーザーストーリーマップ

## 1.1. 目次

- [1. テキスト形式ユーザーストーリーマップ](#1-テキスト形式ユーザーストーリーマップ)
  - [1.1. 目次](#11-目次)
  - [1.2. 優先度](#12-優先度)
  - [1.3. アクター: 顧客 (田中 陽子)](#13-アクター-顧客-田中-陽子)
  - [1.4. アクター: ECストアマネージャー (佐藤 健太)](#14-アクター-ecストアマネージャー-佐藤-健太)
  - [1.5. 横断的機能 / 他アクター (開発者、SRE、セキュリティ、BA)](#15-横断的機能--他アクター-開発者sreセキュリティba)

## 1.2. 優先度

- **リリース1 (MVP):** Must 要件
- **リリース2:** 推奨要件 (基本的なオブザーバビリティ強化)
- **リリース3:** Nice to Have 要件 (さらにオブザーバビリティ強化)
- **リリース4 (Future):** それ以外のストーリー

## 1.3. アクター: 顧客 (田中 陽子)

| 活動 (Activity)          | 商品を探す・見つける                   | カートを管理する             | 注文手続きをする                         | 注文後のフォローアップ              | アカウントを管理する          |
| :----------------------- | :------------------------------------- | :--------------------------- | :--------------------------------------- | :---------------------------------- | :---------------------------- |
| **タスク (Task / Step)** | カテゴリで商品を閲覧する               | 商品をカートに入れる         | チェックアウトを開始する                 | 注文内容・状況を確認する            | サイトに登録する              |
|                          | キーワードで商品を検索する             | カートの内容を確認・編集する | 支払い方法を選択する                     | 配送状況を確認する                  | サイトにログインする          |
|                          | 商品の詳細情報を見る                   | カートから商品を削除する     | (クーポンを適用する)                     | 注文ステータス更新通知を受け取る    | プロフィール情報を更新する    |
|                          | 在庫状況を確認する                     |                              | 注文を確定する                           | (在庫切れ商品の入荷通知を受け取る)  | パスワードを再設定する        |
|                          | (関連商品を見る)                       |                              | 注文確認通知を受け取る                   |                                     |                               |
|                          | (在庫切れ商品の入荷通知を登録する)     |                              |                                          |                                     |                               |
| ---                      | ---                                    | ---                          | ---                                      | ---                                 | ---                           |
| **リリース1 (MVP)**      | `US-CUST-BROWSE-01` カテゴリ閲覧       | `US-CUST-CART-01` カート追加 | `US-CUST-CHECKOUT-01` チェックアウト     |                                     |                               |
|                          | `US-CUST-BROWSE-02` カテゴリ絞り込み   | `US-CUST-CART-04` 合計確認   | `US-CUST-CHECKOUT-02` 支払い方法選択     |                                     |                               |
|                          | `US-CUST-BROWSE-03` キーワード検索     |                              |                                          |                                     |                               |
|                          | `US-CUST-BROWSE-04` 詳細情報確認       |                              |                                          |                                     |                               |
|                          | `US-CUST-BROWSE-05` 在庫状況確認       |                              |                                          |                                     |                               |
| ---                      | ---                                    | ---                          | ---                                      | ---                                 | ---                           |
| **リリース2**            |                                        |                              | `US-CUST-CHECKOUT-NOTIF-01` 注文確認通知 |                                     | `US-CUST-AUTH-01` 登録        |
|                          |                                        |                              |                                          |                                     | `US-CUST-AUTH-02` ログイン    |
|                          |                                        |                              |                                          |                                     | `US-CUST-AUTH-03` PWリセット  |
| ---                      | ---                                    | ---                          | ---                                      | ---                                 | ---                           |
| **リリース3**            | `US-CUST-BROWSE-NOTIF-01` 入荷通知登録 | `US-CUST-CART-02` 数量変更   |                                          |                                     |                               |
|                          |                                        | `US-CUST-CART-03` 商品削除   |                                          |                                     |                               |
| ---                      | ---                                    | ---                          | ---                                      | ---                                 | ---                           |
| **リリース4 (Future)**   | `US-CUST-BROWSE-06` 関連商品           |                              | `US-CUST-CHECKOUT-03` クーポン適用       | `US-CUST-HISTORY-01` 履歴確認       | `US-CUST-PROFILE-01` 情報編集 |
|                          |                                        |                              |                                          | `US-CUST-HISTORY-02` 配送確認       |                               |
|                          |                                        |                              |                                          | `US-CUST-HISTORY-NOTIF-01` 更新通知 |                               |

## 1.4. アクター: ECストアマネージャー (佐藤 健太)

| 活動 (Activity)          | 商品情報を管理する                | 在庫レベルを管理する           | 受注・出荷を管理する             | 売上状況を把握する              | マーケティング施策を行う        |
| :----------------------- | :-------------------------------- | :----------------------------- | :------------------------------- | :------------------------------ | :------------------------------ |
| **タスク (Task / Step)** | 新規商品を登録する                | 在庫状況を確認する             | 新規注文を確認・詳細を見る       | 基本的な売上レポートを見る      | プロモーションを設定・管理する  |
|                          | 既存商品情報を編集する            | 在庫数を手動で更新する         | 注文ステータスを更新する         |                                 |                                 |
|                          | 商品画像をアップロード・管理する  | (低在庫アラートを受け取る)     | 出荷情報を登録する               |                                 |                                 |
|                          | 商品の有効/無効を切り替える       |                                | 返品・交換リクエストを処理する   |                                 |                                 |
|                          | 商品カテゴリを作成・編集する      |                                |                                  |                                 |                                 |
| ---                      | ---                               | ---                            | ---                              | ---                             | ---                             |
| **リリース1 (MVP)**      | `US-MGR-PROD-01` 商品登録         | `US-MGR-INV-01` 在庫確認       | `US-MGR-ORDER-01` 受注確認       |                                 | `US-MGR-AUTH-LOGIN-01` ログイン |
|                          | `US-MGR-PROD-02` 商品編集         | `US-MGR-INV-02` 在庫更新       | `US-MGR-ORDER-03` 注文詳細確認   |                                 |                                 |
|                          | `US-MGR-PROD-04` 画像アップロード |                                |                                  |                                 |                                 |
|                          | `US-MGR-PROD-03` 有効/無効化      |                                |                                  |                                 |                                 |
|                          | `US-MGR-CAT-01` カテゴリ作成      |                                |                                  |                                 |                                 |
| ---                      | ---                               | ---                            | ---                              | ---                             | ---                             |
| **リリース2**            |                                   | `US-MGR-INV-03` 低在庫アラート | `US-MGR-ORDER-02` ステータス更新 | `US-MGR-REPORT-01` 基本レポート |                                 |
|                          |                                   |                                | `US-MGR-ORDER-04` 出荷情報更新   |                                 |                                 |
| ---                      | ---                               | ---                            | ---                              | ---                             | ---                             |
| **リリース3**            |                                   |                                |                                  |                                 |                                 |
| ---                      | ---                               | ---                            | ---                              | ---                             | ---                             |
| **リリース4 (Future)**   | `US-MGR-CAT-02` カテゴリ編集      |                                | `US-MGR-ORDER-05` 返品・交換処理 |                                 | `US-MGR-PROMO-01` プロモ管理    |

## 1.5. 横断的機能 / 他アクター (開発者、SRE、セキュリティ、BA)

| 活動 (Activity) / 領域   | 認証・認可基盤 (`EP-CROSSCUTTING-AUTH`)        | 通知基盤 (`EP-CROSSCUTTING-NOTIF`)   | オブザーバビリティ基盤・利用 (`EP-CROSSCUTTING-OBS`) | システム管理・開発運用 (`EP-SYSTEM-ADMINISTRATION`) | ビジネスインテリジェンス (`EP-BUSINESS-INTELLIGENCE`) |
| :----------------------- | :--------------------------------------------- | :----------------------------------- | :--------------------------------------------------- | :-------------------------------------------------- | :---------------------------------------------------- |
| **タスク (Task / Step)** | **[基盤実装 (DEV)]** 基本認証機能実装          | **[基盤実装 (DEV)]** 通知API/Lib実装 | **[基盤構築 (SRE)]** IaCによるインフラ構築           | **[基盤実装 (DEV)]** 基本CI/CDパイプライン構築      | **[分析環境利用 (BA)]** 分析ツールログイン            |
|                          | **[管理 (SEC)]** 管理者アカウント管理          |                                      | **[計装実装 (DEV)]** 構造化ログ出力実装              | **[基盤実装 (DEV)]** 基本非同期処理実装             | **[分析 (BA)]** 売上・トラフィック分析                |
|                          | **[管理 (SEC)]** RBACによる権限管理            |                                      | **[計装実装 (DEV)]** カスタムメトリクス実装          | **[画像処理実装 (DEV)]** 画像リサイズ等実装         | **[分析 (BA)]** 商品パフォーマンス分析                |
|                          | **[管理 (SEC)]** MFA必須化等の設定             |                                      | **[計装実装 (DEV)]** 分散トレース実装                | **[運用 (SRE)]** データエクスポート管理             |                                                       |
|                          | **[管理 (SEC)]** パスワード/セッションポリシー |                                      | **[計装実装 (DEV)]** OpenTelemetry計装               | **[運用 (SRE)]** 定期メンテナンス管理               |                                                       |
|                          | **[監査 (SEC)]** 認証・認可ログ監査            |                                      | **[利用 (DEV)]** 開発/STGでのデバッグ・ログ分析      | **[運用 (SRE)]** 定期レポートバッチ管理             |                                                       |
|                          | **[利用者ログイン]**                           |                                      | **[利用 (DEV)]** 開発/STGでの性能分析                | **[運用者ログイン (SRE)]**                          |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** システムヘルスダッシュボード確認    | **[開発者ログイン (DEV)]**                          |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** 異常検知・アラート対応              | **[セキュリティ担当ログイン (SEC)]**                |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** パフォーマンス/エラートレンド分析   |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** 本番Lambda監視・最適化              |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** E2Eユーザー体験監視                 |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** コスト監視・最適化                  |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** RUMによるフロントエンド監視         |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** キャパシティ分析・計画              |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** 高度な可視化・分析                  |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SRE)]** インシデント調査                    |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SEC)]** セキュリティイベント監視・監査      |                                                     |                                                       |
|                          |                                                |                                      | **[利用 (SEC)]** コンプライアンス監査自動化          |                                                     |                                                       |
|                          |                                                |                                      | **[実装 (SRE)]** 自動修復メカニズム実装              |                                                     |                                                       |
|                          |                                                |                                      | **[検証 (SRE)]** カオスエンジニアリング検証          |                                                     |                                                       |
| ---                      | ---                                            | ---                                  | ---                                                  | ---                                                 | ---                                                   |
| **リリース1 (MVP)**      | `US-DEV-AUTH-IMPL-01`                          | `US-DEV-NOTIF-IMPL-01`               | `US-SRE-OBS-IMPL-01`                                 | `US-DEV-CICD-IMPL-01`                               |                                                       |
|                          | `US-SEC-AUTH-MANAGE-01`                        |                                      | `US-DEV-OBS-LOG-IMPL-01`                             | `US-DEV-ASYNC-IMPL-01`                              |                                                       |
|                          | `US-SEC-AUTH-RBAC-01`                          |                                      | `US-DEV-OBS-METRIC-IMPL-01`                          | `US-DEV-IMAGE-IMPL-01`                              |                                                       |
|                          |                                                |                                      | `US-DEV-OBS-TRACE-IMPL-01`                           |                                                     |                                                       |
|                          |                                                |                                      | `US-DEV-OBS-DEBUG-01` (利用)                         |                                                     |                                                       |
|                          |                                                |                                      | `US-DEV-OBS-PERF-ANALYZE-01` (利用)                  |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-OBS-INCIDENT-INVESTIGATE-01` (利用 基本)     |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-VIS-01` (利用 基本)                          |                                                     |                                                       |
| ---                      | ---                                            | ---                                  | ---                                                  | ---                                                 | ---                                                   |
| **リリース2**            | `US-SEC-AUTH-LOGIN-01`                         |                                      | `US-SRE-OBS-DASH-01`                                 | `US-SRE-BATCH-03` レポートバッチ                    | `US-BA-AUTH-LOGIN-01`                                 |
|                          | `US-SEC-AUTH-MFA-01`                           |                                      | `US-SRE-OBS-ALERT-01`                                |                                                     |                                                       |
|                          | `US-SEC-AUTH-POLICY-01`                        |                                      |                                                      |                                                     |                                                       |
|                          | `US-SEC-AUTH-AUDIT-01`                         |                                      |                                                      |                                                     |                                                       |
|                          | `US-DEV-AUTH-LOGIN-01`                         |                                      |                                                      |                                                     |                                                       |
|                          | `US-SRE-AUTH-LOGIN-01`                         |                                      |                                                      |                                                     |                                                       |
| ---                      | ---                                            | ---                                  | ---                                                  | ---                                                 | ---                                                   |
| **リリース3**            |                                                |                                      | `US-DEV-OBS-OTEL-IMPL-01` (OTel実装)                 |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-OBS-TREND-01`                                |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-LAMBDA-01`                                   |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-COST-01`                                     |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-RUM-01`                                      |                                                     |                                                       |
| ---                      | ---                                            | ---                                  | ---                                                  | ---                                                 | ---                                                   |
| **リリース4 (Future)**   |                                                |                                      | `US-SRE-UX-01`                                       | `US-SRE-BATCH-01` データエクスポート                | `US-BA-BI-PROD-01`                                    |
|                          |                                                |                                      | `US-SRE-CAPACITY-01`                                 | `US-SRE-BATCH-02` 定期メンテナンス                  | `US-BA-BI-SALES-01`                                   |
|                          |                                                |                                      | `US-SRE-VIS-01` (高度)                               |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-AUTO-IMPL-01`                                |                                                     |                                                       |
|                          |                                                |                                      | `US-SRE-CHAOS-01`                                    |                                                     |                                                       |
|                          |                                                |                                      | `US-SEC-OBS-AUDIT-01` (本格監査)                     |                                                     |                                                       |
|                          |                                                |                                      | `US-SEC-COMPLIANCE-01`                               |                                                     |                                                       |
