# 1. ユースケース一覧

このドキュメントでは、新しいペルソナ定義とID命名規則に基づきユースケースを整理し、関連するユーザーストーリーを明記します。

## 1.1. 目次

- [1. ユースケース一覧](#1-ユースケース一覧)
  - [1.1. 目次](#11-目次)
  - [1.2. ユースケースカテゴリ別一覧](#12-ユースケースカテゴリ別一覧)
    - [1.2.1. 顧客 (`CUST`) 向けユースケース](#121-顧客-cust-向けユースケース)
      - [1.2.1.1. ショッピング体験 (`EP-SHOPPING`)](#1211-ショッピング体験-ep-shopping)
      - [1.2.1.2. 顧客エンゲージメント (`EP-CUSTOMER-ENGAGEMENT`)](#1212-顧客エンゲージメント-ep-customer-engagement)
      - [1.2.1.3. 認証 (`EP-CROSSCUTTING-AUTH`)](#1213-認証-ep-crosscutting-auth)
    - [1.2.2. ECストアマネージャー (`MGR`) 向けユースケース](#122-ecストアマネージャー-mgr-向けユースケース)
      - [1.2.2.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1221-認証-ep-crosscutting-auth)
      - [1.2.2.2. 商品・在庫管理 (`EP-PRODUCT-MANAGEMENT`)](#1222-商品在庫管理-ep-product-management)
      - [1.2.2.3. 受注・出荷管理 (`EP-ORDER-FULFILLMENT`)](#1223-受注出荷管理-ep-order-fulfillment)
      - [1.2.2.4. マーケティング (`EP-CUSTOMER-ENGAGEMENT`)](#1224-マーケティング-ep-customer-engagement)
    - [1.2.3. 開発者 (`DEV`) 向けユースケース](#123-開発者-dev-向けユースケース)
      - [1.2.3.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1231-認証-ep-crosscutting-auth)
      - [1.2.3.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1232-オブザーバビリティ-ep-crosscutting-obs)
    - [1.2.4. SRE/運用担当者 (`SRE`) 向けユースケース](#124-sre運用担当者-sre-向けユースケース)
      - [1.2.4.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1241-認証-ep-crosscutting-auth)
      - [1.2.4.2. システム管理・運用 (`EP-SYSTEM-ADMINISTRATION`)](#1242-システム管理運用-ep-system-administration)
      - [1.2.4.3. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1243-オブザーバビリティ-ep-crosscutting-obs)
    - [1.2.5. セキュリティ担当者 (`SEC`) 向けユースケース](#125-セキュリティ担当者-sec-向けユースケース)
      - [1.2.5.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1251-認証-ep-crosscutting-auth)
      - [1.2.5.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1252-オブザーバビリティ-ep-crosscutting-obs)
    - [1.2.6. ビジネスアナリスト (`BA`) 向けユースケース](#126-ビジネスアナリスト-ba-向けユースケース)
      - [1.2.6.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1261-認証-ep-crosscutting-auth)
      - [1.2.6.2. ビジネスインテリジェンス (`EP-BUSINESS-INTELLIGENCE`)](#1262-ビジネスインテリジェンス-ep-business-intelligence)
  - [1.3. ユースケースシナリオ詳細](#13-ユースケースシナリオ詳細)
    - [1.3.1. 顧客 (`CUST`) 向けユースケース詳細](#131-顧客-cust-向けユースケース詳細)
      - [1.3.1.1. ショッピング体験 (`EP-SHOPPING`)](#1311-ショッピング体験-ep-shopping)
        - [1.3.1.1.1. UC-CUST-BROWSE-01: カテゴリブラウジング](#13111-uc-cust-browse-01-カテゴリブラウジング)
        - [1.3.1.1.2. UC-CUST-BROWSE-02: 商品検索](#13112-uc-cust-browse-02-商品検索)
        - [1.3.1.1.3. UC-CUST-BROWSE-03: 商品詳細閲覧](#13113-uc-cust-browse-03-商品詳細閲覧)
        - [1.3.1.1.4. UC-CUST-BROWSE-NOTIF-01: 在庫状況通知登録/受信](#13114-uc-cust-browse-notif-01-在庫状況通知登録受信)
        - [1.3.1.1.5. UC-CUST-CART-01: カートへの商品追加](#13115-uc-cust-cart-01-カートへの商品追加)
        - [1.3.1.1.6. UC-CUST-CART-02: カート内商品管理](#13116-uc-cust-cart-02-カート内商品管理)
        - [1.3.1.1.7. UC-CUST-CHECKOUT-01: 注文処理](#13117-uc-cust-checkout-01-注文処理)
        - [1.3.1.1.8. UC-CUST-CHECKOUT-02: クーポンコード適用](#13118-uc-cust-checkout-02-クーポンコード適用)
        - [1.3.1.1.9. UC-CUST-CHECKOUT-NOTIF-01: 注文確認通知受信](#13119-uc-cust-checkout-notif-01-注文確認通知受信)
      - [1.3.1.2. 顧客エンゲージメント (`EP-CUSTOMER-ENGAGEMENT`)](#1312-顧客エンゲージメント-ep-customer-engagement)
        - [1.3.1.2.1. UC-CUST-PROFILE-01: プロフィール管理](#13121-uc-cust-profile-01-プロフィール管理)
        - [1.3.1.2.2. UC-CUST-HISTORY-01: 注文履歴確認](#13122-uc-cust-history-01-注文履歴確認)
        - [1.3.1.2.3. UC-CUST-HISTORY-02: 配送状況確認](#13123-uc-cust-history-02-配送状況確認)
        - [1.3.1.2.4. UC-CUST-HISTORY-NOTIF-01: 注文ステータス更新通知受信](#13124-uc-cust-history-notif-01-注文ステータス更新通知受信)
      - [1.3.1.3. 認証 (`EP-CROSSCUTTING-AUTH`)](#1313-認証-ep-crosscutting-auth)
        - [1.3.1.3.1. UC-CUST-AUTH-01: アカウント登録](#13131-uc-cust-auth-01-アカウント登録)
        - [1.3.1.3.2. UC-CUST-AUTH-02: ログイン](#13132-uc-cust-auth-02-ログイン)
        - [1.3.1.3.3. UC-CUST-AUTH-03: パスワードリセット](#13133-uc-cust-auth-03-パスワードリセット)
    - [1.3.2. ECストアマネージャー (`MGR`) 向けユースケース詳細](#132-ecストアマネージャー-mgr-向けユースケース詳細)
      - [1.3.2.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1321-認証-ep-crosscutting-auth)
        - [1.3.2.1.1. UC-MGR-AUTH-LOGIN-01: ストア管理機能ログイン](#13211-uc-mgr-auth-login-01-ストア管理機能ログイン)
      - [1.3.2.2. 商品・在庫管理 (`EP-PRODUCT-MANAGEMENT`)](#1322-商品在庫管理-ep-product-management)
        - [1.3.2.2.1. UC-MGR-PROD-01: 商品情報の登録・更新](#13221-uc-mgr-prod-01-商品情報の登録更新)
        - [1.3.2.2.2. UC-MGR-PROD-02: 商品画像のアップロード](#13222-uc-mgr-prod-02-商品画像のアップロード)
        - [1.3.2.2.3. UC-MGR-CAT-01: 商品カタログの管理](#13223-uc-mgr-cat-01-商品カタログの管理)
        - [1.3.2.2.4. UC-MGR-INV-01: 在庫モニタリング](#13224-uc-mgr-inv-01-在庫モニタリング)
        - [1.3.2.2.5. UC-MGR-INV-02: 在庫更新](#13225-uc-mgr-inv-02-在庫更新)
        - [1.3.2.2.6. UC-MGR-INV-03: 低在庫アラート対応](#13226-uc-mgr-inv-03-低在庫アラート対応)
      - [1.3.2.3. 受注・出荷管理 (`EP-ORDER-FULFILLMENT`)](#1323-受注出荷管理-ep-order-fulfillment)
        - [1.3.2.3.1. UC-MGR-ORDER-01: 注文確認処理](#13231-uc-mgr-order-01-注文確認処理)
        - [1.3.2.3.2. UC-MGR-ORDER-02: 出荷処理](#13232-uc-mgr-order-02-出荷処理)
        - [1.3.2.3.3. UC-MGR-ORDER-03: 返品・交換処理](#13233-uc-mgr-order-03-返品交換処理)
        - [1.3.2.3.4. UC-MGR-REPORT-01: 基本売上レポート確認](#13234-uc-mgr-report-01-基本売上レポート確認)
      - [1.3.2.4. マーケティング (`EP-CUSTOMER-ENGAGEMENT`)](#1324-マーケティング-ep-customer-engagement)
        - [1.3.2.4.1. UC-MGR-PROMO-01: プロモーション管理](#13241-uc-mgr-promo-01-プロモーション管理)
    - [1.3.3. 開発者 (`DEV`) 向けユースケース詳細](#133-開発者-dev-向けユースケース詳細)
      - [1.3.3.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1331-認証-ep-crosscutting-auth)
        - [1.3.3.1.1. UC-DEV-AUTH-LOGIN-01: 開発関連管理機能ログイン](#13311-uc-dev-auth-login-01-開発関連管理機能ログイン)
      - [1.3.3.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1332-オブザーバビリティ-ep-crosscutting-obs)
        - [1.3.3.2.1. UC-DEV-OBS-DEBUG-01: 開発/STGログ・トレース分析](#13321-uc-dev-obs-debug-01-開発stgログトレース分析)
        - [1.3.3.2.2. UC-DEV-OBS-PERF-ANALYZE-01: 開発/STG性能分析](#13322-uc-dev-obs-perf-analyze-01-開発stg性能分析)
    - [1.3.4. SRE/運用担当者 (`SRE`) 向けユースケース詳細](#134-sre運用担当者-sre-向けユースケース詳細)
      - [1.3.4.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1341-認証-ep-crosscutting-auth)
        - [1.3.4.1.1. UC-SRE-AUTH-LOGIN-01: 運用管理機能ログイン](#13411-uc-sre-auth-login-01-運用管理機能ログイン)
      - [1.3.4.2. システム管理・運用 (`EP-SYSTEM-ADMINISTRATION`)](#1342-システム管理運用-ep-system-administration)
        - [1.3.4.2.1. UC-SRE-BATCH-01: データエクスポート管理](#13421-uc-sre-batch-01-データエクスポート管理)
        - [1.3.4.2.2. UC-SRE-BATCH-02: 定期メンテナンス管理](#13422-uc-sre-batch-02-定期メンテナンス管理)
        - [1.3.4.2.3. UC-SRE-BATCH-03: 定期レポートバッチ管理](#13423-uc-sre-batch-03-定期レポートバッチ管理)
      - [1.3.4.3. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1343-オブザーバビリティ-ep-crosscutting-obs)
        - [1.3.4.3.1. UC-SRE-OBS-IMPL-01: オブザーバビリティインフラ構築](#13431-uc-sre-obs-impl-01-オブザーバビリティインフラ構築)
        - [1.3.4.3.2. UC-SRE-OBS-DASH-01: システムヘルスダッシュボード確認](#13432-uc-sre-obs-dash-01-システムヘルスダッシュボード確認)
        - [1.3.4.3.3. UC-SRE-OBS-ALERT-01: 異常検知とアラート対応](#13433-uc-sre-obs-alert-01-異常検知とアラート対応)
        - [1.3.4.3.4. UC-SRE-OBS-TREND-01: パフォーマンス/エラートレンド分析](#13434-uc-sre-obs-trend-01-パフォーマンスエラートレンド分析)
        - [1.3.4.3.5. UC-SRE-LAMBDA-01: 本番Lambda監視/最適化](#13435-uc-sre-lambda-01-本番lambda監視最適化)
        - [1.3.4.3.6. UC-SRE-UX-01: E2Eユーザー体験監視](#13436-uc-sre-ux-01-e2eユーザー体験監視)
        - [1.3.4.3.7. UC-SRE-COST-01: コスト監視と最適化](#13437-uc-sre-cost-01-コスト監視と最適化)
        - [1.3.4.3.8. UC-SRE-AUTO-IMPL-01: 自動修復メカニズム実装](#13438-uc-sre-auto-impl-01-自動修復メカニズム実装)
        - [1.3.4.3.9. UC-SRE-CHAOS-01: カオスエンジニアリング検証](#13439-uc-sre-chaos-01-カオスエンジニアリング検証)
        - [1.3.4.3.10. UC-SRE-RUM-01: RUMによるフロントエンド監視](#134310-uc-sre-rum-01-rumによるフロントエンド監視)
        - [1.3.4.3.11. UC-SRE-CAPACITY-01: キャパシティ分析/計画](#134311-uc-sre-capacity-01-キャパシティ分析計画)
        - [1.3.4.3.12. UC-SRE-VIS-01: 高度な可視化と分析](#134312-uc-sre-vis-01-高度な可視化と分析)
        - [1.3.4.3.13. UC-SRE-OBS-INCIDENT-INVESTIGATE-01: インシデント調査](#134313-uc-sre-obs-incident-investigate-01-インシデント調査)
    - [1.3.5. セキュリティ担当者 (`SEC`) 向けユースケース詳細](#135-セキュリティ担当者-sec-向けユースケース詳細)
      - [1.3.5.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1351-認証-ep-crosscutting-auth)
        - [1.3.5.1.1. UC-SEC-AUTH-LOGIN-01: セキュリティ管理機能ログイン](#13511-uc-sec-auth-login-01-セキュリティ管理機能ログイン)
        - [1.3.5.1.2. UC-SEC-AUTH-MANAGE-01: 管理者アカウント管理](#13512-uc-sec-auth-manage-01-管理者アカウント管理)
        - [1.3.5.1.3. UC-SEC-AUTH-RBAC-01: ロールと権限管理](#13513-uc-sec-auth-rbac-01-ロールと権限管理)
        - [1.3.5.1.4. UC-SEC-AUTH-MFA-01: 多要素認証(MFA)管理](#13514-uc-sec-auth-mfa-01-多要素認証mfa管理)
        - [1.3.5.1.5. UC-SEC-AUTH-POLICY-01: セッション/パスワードポリシー設定](#13515-uc-sec-auth-policy-01-セッションパスワードポリシー設定)
        - [1.3.5.1.6. UC-SEC-AUTH-AUDIT-01: 認証/認可監査](#13516-uc-sec-auth-audit-01-認証認可監査)
      - [1.3.5.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)](#1352-オブザーバビリティ-ep-crosscutting-obs)
        - [1.3.5.2.1. UC-SEC-OBS-AUDIT-01: セキュリティイベント監視/監査](#13521-uc-sec-obs-audit-01-セキュリティイベント監視監査)
        - [1.3.5.2.2. UC-SEC-COMPLIANCE-01: コンプライアンス監査自動化](#13522-uc-sec-compliance-01-コンプライアンス監査自動化)
    - [1.3.6. ビジネスアナリスト (`BA`) 向けユースケース詳細](#136-ビジネスアナリスト-ba-向けユースケース詳細)
      - [1.3.6.1. 認証 (`EP-CROSSCUTTING-AUTH`)](#1361-認証-ep-crosscutting-auth)
        - [1.3.6.1.1. UC-BA-AUTH-LOGIN-01: データ分析ツールログイン](#13611-uc-ba-auth-login-01-データ分析ツールログイン)
      - [1.3.6.2. ビジネスインテリジェンス (`EP-BUSINESS-INTELLIGENCE`)](#1362-ビジネスインテリジェンス-ep-business-intelligence)
        - [1.3.6.2.1. UC-BA-BI-SALES-01: 売上・トラフィック分析](#13621-uc-ba-bi-sales-01-売上トラフィック分析)
        - [1.3.6.2.2. UC-BA-BI-PROD-01: 商品パフォーマンス分析](#13622-uc-ba-bi-prod-01-商品パフォーマンス分析)

## 1.2. ユースケースカテゴリ別一覧

### 1.2.1. 顧客 (`CUST`) 向けユースケース

#### 1.2.1.1. ショッピング体験 (`EP-SHOPPING`)

| ユースケースID            | ユースケース名        | 関連ユーザーストーリー                                        |
| :------------------------ | :-------------------- | :------------------------------------------------------------ |
| UC-CUST-BROWSE-01         | カテゴリブラウジング  | `US-CUST-BROWSE-01`, `US-CUST-BROWSE-02`                      |
| UC-CUST-BROWSE-02         | 商品検索              | `US-CUST-BROWSE-03`                                           |
| UC-CUST-BROWSE-03         | 商品詳細閲覧          | `US-CUST-BROWSE-04`, `US-CUST-BROWSE-05`, `US-CUST-BROWSE-06` |
| UC-CUST-BROWSE-NOTIF-01   | 在庫状況通知登録/受信 | `US-CUST-BROWSE-NOTIF-01`                                     |
| UC-CUST-CART-01           | カートへの商品追加    | `US-CUST-CART-01`                                             |
| UC-CUST-CART-02           | カート内商品管理      | `US-CUST-CART-02`, `US-CUST-CART-03`, `US-CUST-CART-04`       |
| UC-CUST-CHECKOUT-01       | 注文処理              | `US-CUST-CHECKOUT-01`, `US-CUST-CHECKOUT-02`                  |
| UC-CUST-CHECKOUT-02       | クーポンコード適用    | `US-CUST-CHECKOUT-03`                                         |
| UC-CUST-CHECKOUT-NOTIF-01 | 注文確認通知受信      | `US-CUST-CHECKOUT-NOTIF-01`                                   |

#### 1.2.1.2. 顧客エンゲージメント (`EP-CUSTOMER-ENGAGEMENT`)

| ユースケースID           | ユースケース名             | 関連ユーザーストーリー     |
| :----------------------- | :------------------------- | :------------------------- |
| UC-CUST-PROFILE-01       | プロフィール管理           | `US-CUST-PROFILE-01`       |
| UC-CUST-HISTORY-01       | 注文履歴確認               | `US-CUST-HISTORY-01`       |
| UC-CUST-HISTORY-02       | 配送状況確認               | `US-CUST-HISTORY-02`       |
| UC-CUST-HISTORY-NOTIF-01 | 注文ステータス更新通知受信 | `US-CUST-HISTORY-NOTIF-01` |

#### 1.2.1.3. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID  | ユースケース名     | 関連ユーザーストーリー |
| :-------------- | :----------------- | :--------------------- |
| UC-CUST-AUTH-01 | アカウント登録     | `US-CUST-AUTH-01`      |
| UC-CUST-AUTH-02 | ログイン           | `US-CUST-AUTH-02`      |
| UC-CUST-AUTH-03 | パスワードリセット | `US-CUST-AUTH-03`      |

### 1.2.2. ECストアマネージャー (`MGR`) 向けユースケース

#### 1.2.2.1. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID       | ユースケース名         | 関連ユーザーストーリー |
| :------------------- | :--------------------- | :--------------------- |
| UC-MGR-AUTH-LOGIN-01 | ストア管理機能ログイン | `US-MGR-AUTH-LOGIN-01` |

#### 1.2.2.2. 商品・在庫管理 (`EP-PRODUCT-MANAGEMENT`)

| ユースケースID | ユースケース名         | 関連ユーザーストーリー                                      |
| :------------- | :--------------------- | :---------------------------------------------------------- |
| UC-MGR-PROD-01 | 商品情報の登録・更新   | `US-MGR-PROD-01`, `US-MGR-PROD-02`, `US-MGR-PROD-03`        |
| UC-MGR-PROD-02 | 商品画像のアップロード | `US-MGR-PROD-04`, (`US-DEV-IMAGE-IMPL-01`)                  |
| UC-MGR-CAT-01  | 商品カタログの管理     | `US-MGR-CAT-01`, `US-MGR-CAT-02`                            |
| UC-MGR-INV-01  | 在庫モニタリング       | `US-MGR-INV-01`                                             |
| UC-MGR-INV-02  | 在庫更新               | `US-MGR-INV-02`, (`US-CUST-BROWSE-NOTIF-01` 受信側トリガー) |
| UC-MGR-INV-03  | 低在庫アラート対応     | `US-MGR-INV-03`                                             |

#### 1.2.2.3. 受注・出荷管理 (`EP-ORDER-FULFILLMENT`)

| ユースケースID   | ユースケース名       | 関連ユーザーストーリー                                                      |
| :--------------- | :------------------- | :-------------------------------------------------------------------------- |
| UC-MGR-ORDER-01  | 注文確認処理         | `US-MGR-ORDER-01`, `US-MGR-ORDER-03`                                        |
| UC-MGR-ORDER-02  | 出荷処理             | `US-MGR-ORDER-02`, `US-MGR-ORDER-04`, (`US-CUST-HISTORY-NOTIF-01` トリガー) |
| UC-MGR-ORDER-03  | 返品・交換処理       | `US-MGR-ORDER-05`                                                           |
| UC-MGR-REPORT-01 | 基本売上レポート確認 | `US-MGR-REPORT-01`                                                          |

#### 1.2.2.4. マーケティング (`EP-CUSTOMER-ENGAGEMENT`)

| ユースケースID  | ユースケース名     | 関連ユーザーストーリー |
| :-------------- | :----------------- | :--------------------- |
| UC-MGR-PROMO-01 | プロモーション管理 | `US-MGR-PROMO-01`      |

### 1.2.3. 開発者 (`DEV`) 向けユースケース

#### 1.2.3.1. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID       | ユースケース名           | 関連ユーザーストーリー |
| :------------------- | :----------------------- | :--------------------- |
| UC-DEV-AUTH-LOGIN-01 | 開発関連管理機能ログイン | `US-DEV-AUTH-LOGIN-01` |

#### 1.2.3.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

| ユースケースID             | ユースケース名             | 関連ユーザーストーリー                                                                         |
| :------------------------- | :------------------------- | :--------------------------------------------------------------------------------------------- |
| UC-DEV-OBS-DEBUG-01        | 開発/STGログ・トレース分析 | `US-DEV-OBS-DEBUG-01`, (`US-DEV-OBS-LOG-IMPL-01`, `US-DEV-OBS-TRACE-IMPL-01` が前提)           |
| UC-DEV-OBS-PERF-ANALYZE-01 | 開発/STG性能分析           | `US-DEV-OBS-PERF-ANALYZE-01`, (`US-DEV-OBS-METRIC-IMPL-01`, `US-DEV-OBS-TRACE-IMPL-01` が前提) |

### 1.2.4. SRE/運用担当者 (`SRE`) 向けユースケース

#### 1.2.4.1. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID       | ユースケース名       | 関連ユーザーストーリー |
| :------------------- | :------------------- | :--------------------- |
| UC-SRE-AUTH-LOGIN-01 | 運用管理機能ログイン | `US-SRE-AUTH-LOGIN-01` |

#### 1.2.4.2. システム管理・運用 (`EP-SYSTEM-ADMINISTRATION`)

| ユースケースID  | ユースケース名         | 関連ユーザーストーリー |
| :-------------- | :--------------------- | :--------------------- |
| UC-SRE-BATCH-01 | データエクスポート管理 | `US-SRE-BATCH-01`      |
| UC-SRE-BATCH-02 | 定期メンテナンス管理   | `US-SRE-BATCH-02`      |
| UC-SRE-BATCH-03 | 定期レポートバッチ管理 | `US-SRE-BATCH-03`      |

#### 1.2.4.3. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

| ユースケースID                     | ユースケース名                    | 関連ユーザーストーリー                                                                   |
| :--------------------------------- | :-------------------------------- | :--------------------------------------------------------------------------------------- |
| UC-SRE-OBS-IMPL-01                 | オブザーバビリティインフラ構築    | `US-SRE-OBS-IMPL-01`                                                                     |
| UC-SRE-OBS-DASH-01                 | システムヘルスダッシュボード確認  | `US-SRE-OBS-DASH-01`                                                                     |
| UC-SRE-OBS-ALERT-01                | 異常検知とアラート対応            | `US-SRE-OBS-ALERT-01`                                                                    |
| UC-SRE-OBS-TREND-01                | パフォーマンス/エラートレンド分析 | `US-SRE-OBS-TREND-01`                                                                    |
| UC-SRE-LAMBDA-01                   | 本番Lambda監視/最適化             | `US-SRE-LAMBDA-01`                                                                       |
| UC-SRE-UX-01                       | E2Eユーザー体験監視               | `US-SRE-UX-01`                                                                           |
| UC-SRE-COST-01                     | コスト監視と最適化                | `US-SRE-COST-01`                                                                         |
| UC-SRE-AUTO-IMPL-01                | 自動修復メカニズム実装            | `US-SRE-AUTO-IMPL-01`                                                                    |
| UC-SRE-CHAOS-01                    | カオスエンジニアリング検証        | `US-SRE-CHAOS-01`                                                                        |
| UC-SRE-RUM-01                      | RUMによるフロントエンド監視       | `US-SRE-RUM-01`                                                                          |
| UC-SRE-CAPACITY-01                 | キャパシティ分析/計画             | `US-SRE-CAPACITY-01`                                                                     |
| UC-SRE-VIS-01                      | 高度な可視化と分析                | `US-SRE-VIS-01`                                                                          |
| UC-SRE-OBS-INCIDENT-INVESTIGATE-01 | インシデント調査                  | `US-SRE-OBS-INCIDENT-INVESTIGATE-01`, (`US-SRE-OBS-ALERT-01` からトリガーされる場合あり) |

### 1.2.5. セキュリティ担当者 (`SEC`) 向けユースケース

#### 1.2.5.1. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID        | ユースケース名                | 関連ユーザーストーリー  |
| :-------------------- | :---------------------------- | :---------------------- |
| UC-SEC-AUTH-LOGIN-01  | セキュリティ管理機能ログイン  | `US-SEC-AUTH-LOGIN-01`  |
| UC-SEC-AUTH-MANAGE-01 | 管理者アカウント管理          | `US-SEC-AUTH-MANAGE-01` |
| UC-SEC-AUTH-RBAC-01   | ロールと権限管理              | `US-SEC-AUTH-RBAC-01`   |
| UC-SEC-AUTH-MFA-01    | 多要素認証(MFA)管理           | `US-SEC-AUTH-MFA-01`    |
| UC-SEC-AUTH-POLICY-01 | セッション/パスワードポリシー | `US-SEC-AUTH-POLICY-01` |
| UC-SEC-AUTH-AUDIT-01  | 認証/認可監査                 | `US-SEC-AUTH-AUDIT-01`  |

#### 1.2.5.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

| ユースケースID       | ユースケース名                | 関連ユーザーストーリー |
| :------------------- | :---------------------------- | :--------------------- |
| UC-SEC-OBS-AUDIT-01  | セキュリティイベント監視/監査 | `US-SEC-OBS-AUDIT-01`  |
| UC-SEC-COMPLIANCE-01 | コンプライアンス監査自動化    | `US-SEC-COMPLIANCE-01` |

### 1.2.6. ビジネスアナリスト (`BA`) 向けユースケース

#### 1.2.6.1. 認証 (`EP-CROSSCUTTING-AUTH`)

| ユースケースID      | ユースケース名           | 関連ユーザーストーリー |
| :------------------ | :----------------------- | :--------------------- |
| UC-BA-AUTH-LOGIN-01 | データ分析ツールログイン | `US-BA-AUTH-LOGIN-01`  |

#### 1.2.6.2. ビジネスインテリジェンス (`EP-BUSINESS-INTELLIGENCE`)

| ユースケースID    | ユースケース名         | 関連ユーザーストーリー |
| :---------------- | :--------------------- | :--------------------- |
| UC-BA-BI-PROD-01  | 商品パフォーマンス分析 | `US-BA-BI-PROD-01`     |
| UC-BA-BI-SALES-01 | 売上・トラフィック分析 | `US-BA-BI-SALES-01`    |

## 1.3. ユースケースシナリオ詳細

### 1.3.1. 顧客 (`CUST`) 向けユースケース詳細

#### 1.3.1.1. ショッピング体験 (`EP-SHOPPING`)

##### 1.3.1.1.1. UC-CUST-BROWSE-01: カテゴリブラウジング

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-BROWSE-01`, `US-CUST-BROWSE-02`
- **前提条件**: なし
- **メインフロー**:
  1. 顧客がウェブサイトのカテゴリメニューから目的のカテゴリを選択する
  2. システムは選択されたカテゴリに属する全商品を一覧表示する
  3. 顧客は表示された商品リストをブラウジングする
- **代替フロー**:
  - 該当カテゴリに商品がない場合、「商品がありません」と表示する
- **オブザーバビリティポイント**:
  - カテゴリ別のアクセス率計測 (`US-SRE-UX-01`)
  - ページロード時間の計測 (`US-SRE-RUM-01`)
  - 表示された商品数のログ記録 (`US-DEV-OBS-LOG-IMPL-01`)
  - フロントエンドのパフォーマンスメトリクス（FCP, LCP） (`US-SRE-RUM-01`)

##### 1.3.1.1.2. UC-CUST-BROWSE-02: 商品検索

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-BROWSE-03`
- **前提条件**: なし
- **メインフロー**:
  1. 顧客が検索バーにキーワードを入力し検索する
  2. システムはキーワードに関連する商品を検索結果として表示する
  3. 顧客は検索結果をフィルタリングまたはソートして閲覧する
- **代替フロー**:
  - 検索結果がない場合、「検索結果がありません」と表示し、関連商品を推奨する
- **オブザーバビリティポイント**:
  - 検索クエリのパターン分析 (`US-BA-BI-SALES-01`, ログ分析)
  - 検索結果の数と質の計測 (ログ分析)
  - 検索レスポンス時間のモニタリング (`US-SRE-OBS-TREND-01`)
  - ゼロヒット検索クエリの記録と分析 (ログ分析, `US-BA-BI-SALES-01`)

##### 1.3.1.1.3. UC-CUST-BROWSE-03: 商品詳細閲覧

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-BROWSE-04`, `US-CUST-BROWSE-05`, `US-CUST-BROWSE-06`
- **前提条件**: 商品一覧から特定商品を選択している
- **メインフロー**:
  1. 顧客が商品一覧から特定の商品をクリックする
  2. システムは選択された商品の詳細情報（説明、仕様、価格、画像など）を表示する
  3. システムは関連商品のリストを表示する
  4. 顧客は商品情報を閲覧し、追加画像を確認できる
  5. 顧客は関連商品を閲覧し、興味のある商品に移動できる
- **代替フロー**:
  - 商品が在庫切れの場合、在庫切れ表示と入荷通知登録オプション (`UC-CUST-BROWSE-NOTIF-01`) を提供する
- **オブザーバビリティポイント**:
  - 商品詳細ページの滞在時間計測 (`US-SRE-RUM-01`)
  - 特定商品の閲覧数トラッキング (`US-BA-BI-PROD-01`)
  - 画像読み込み性能の計測 (`US-SRE-RUM-01`)
  - カート追加率の追跡 (`US-BA-BI-PROD-01`)
  - 関連商品のクリック率と遷移率 (`US-BA-BI-PROD-01`)

##### 1.3.1.1.4. UC-CUST-BROWSE-NOTIF-01: 在庫状況通知登録/受信

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-BROWSE-NOTIF-01`
- **前提条件**: 商品が在庫切れである。通知基盤 (`US-DEV-NOTIF-IMPL-01`) が実装されている。
- **メインフロー (登録)**:
  1. 顧客が在庫切れ商品ページ (`UC-CUST-BROWSE-03`) で「入荷通知」を選択する
  2. システムはメールアドレスを確認または要求する
  3. システムは通知登録の成功メッセージを表示する
- **メインフロー (受信)**:
  1. 商品が入荷 (`UC-MGR-INV-02`) した時点で、システムは入荷通知イベントを発行する
  2. 通知基盤がイベントを受け取り、該当顧客にメールを送信する
  3. 顧客が入荷通知メールを受信する
- **代替フロー**: 既に登録済みの場合の表示など。
- **オブザーバビリティポイント**:
  - 通知登録率 (ビジネスKPI)
  - 通知後の購入コンバージョン率 (`US-BA-BI-PROD-01`)
  - 通知送信成功率 (`US-SRE-OBS-TREND-01` など)
  - 通知配信遅延 (`US-SRE-OBS-TREND-01` など)

##### 1.3.1.1.5. UC-CUST-CART-01: カートへの商品追加

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-CART-01`
- **前提条件**: 商品詳細ページを閲覧している
- **メインフロー**:
  1. 顧客が「カートに追加」ボタンをクリックする
  2. システムは選択された商品をカートに追加する（クライアント側 or サーバー側）
  3. システムはカート追加の成功メッセージを表示する
- **代替フロー**: 在庫不足の場合、「在庫不足」メッセージを表示する。
- **オブザーバビリティポイント**:
  - カート追加成功/失敗率 (ログ分析)
  - カート追加時のレスポンス時間 (`US-SRE-RUM-01`)
  - 在庫不足による追加失敗の記録 (ログ分析, `US-BA-BI-PROD-01`)

##### 1.3.1.1.6. UC-CUST-CART-02: カート内商品管理

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-CART-02`, `US-CUST-CART-03`, `US-CUST-CART-04`
- **前提条件**: カートに商品が追加されている
- **メインフロー**:
  1. 顧客がカートページを開く
  2. システムはカート内の商品リストと合計金額を表示する
  3. 顧客は数量の変更または商品の削除を行う
  4. システムはカートの内容と金額を更新する
- **代替フロー**: カートが空の場合、「カートは空です」と表示する。
- **オブザーバビリティポイント**:
  - カートページロード時間 (`US-SRE-RUM-01`)
  - カート更新操作のAPIレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - カートからの商品削除率 (ログ分析, `US-BA-BI-PROD-01`)
  - カート放棄率の分析 (`US-BA-BI-SALES-01`)

##### 1.3.1.1.7. UC-CUST-CHECKOUT-01: 注文処理

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-CHECKOUT-01`, `US-CUST-CHECKOUT-02`
- **前提条件**: カートに商品があり、顧客がログインしている (`UC-CUST-AUTH-02`)。
- **メインフロー**:
  1. 顧客が「チェックアウト」ボタンをクリックする。
  2. システムが配送先住所、支払い方法の選択画面を表示する。
  3. 顧客が必要情報を入力/選択し、「注文を確定」をクリックする。
  4. システムがバックエンドで在庫引き当て、支払い処理（外部連携）、注文データ作成を行う。
  5. システムが注文完了画面を表示する。
  6. システムが注文確認通知イベントを発行 (`UC-CUST-CHECKOUT-NOTIF-01` へ)。
- **代替フロー**: 支払い失敗、在庫不足時の処理。
- **オブザーバビリティポイント**:
  - チェックアウトステップごとの所要時間と離脱率 (`US-SRE-UX-01`)
  - 支払い処理APIのレイテンシと成功率 (`US-SRE-OBS-TREND-01`)
  - 注文処理全体の成功率とエラー原因分析 (ログ分析 `US-DEV-OBS-DEBUG-01`, トレース `US-DEV-OBS-TRACE-IMPL-01`)
  - 注文確定時のDB書き込み時間 (`US-SRE-OBS-TREND-01`)

##### 1.3.1.1.8. UC-CUST-CHECKOUT-02: クーポンコード適用

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-CHECKOUT-03`
- **前提条件**: チェックアウトプロセス中 (`UC-CUST-CHECKOUT-01`)。
- **メインフロー**:
  1. 顧客がクーポンコードを入力し、「適用」ボタンをクリックする。
  2. システムがクーポンコードの有効性を検証するAPIを呼び出す。
  3. APIが有効性をチェックし、割引額を計算して返す。
  4. システムが割引を適用し、合計金額を更新表示する。
- **代替フロー**: 無効なコード、利用条件未達の場合のエラー表示。
- **オブザーバビリティポイント**:
  - クーポン検証APIのレスポンス時間と成功率 (`US-SRE-OBS-TREND-01`)
  - クーポン適用率 (ログ分析, `US-BA-BI-SALES-01`)
  - 無効クーポン試行のログ記録 (ログ分析)

##### 1.3.1.1.9. UC-CUST-CHECKOUT-NOTIF-01: 注文確認通知受信

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-CHECKOUT-NOTIF-01`
- **前提条件**: 注文処理 (`UC-CUST-CHECKOUT-01`) が完了し、通知イベントが発行された。通知基盤 (`US-DEV-NOTIF-IMPL-01`) が実装されている。
- **メインフロー**:
  1. 通知基盤が注文確認イベントを受け取る。
  2. 通知基盤がメールテンプレートを取得し、注文情報と顧客情報で内容を生成する。
  3. 通知基盤がメール送信サービス (SES等) を利用して顧客にメールを送信する。
  4. 顧客が注文確認メールを受信する。
- **代替フロー**: メール送信失敗時のリトライ、エラー記録。
- **オブザーバビリティポイント**:
  - イベント発行からメール送信完了までの時間 (`US-SRE-OBS-TREND-01`)
  - メール送信成功率とバウンス率 (SES等のメトリクス, `US-SRE-OBS-TREND-01`)
  - メール開封率 (`US-BA-BI-SALES-01` - 要トラッキングピクセル等)

#### 1.3.1.2. 顧客エンゲージメント (`EP-CUSTOMER-ENGAGEMENT`)

##### 1.3.1.2.1. UC-CUST-PROFILE-01: プロフィール管理

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-PROFILE-01`
- **前提条件**: 顧客がログインしている (`UC-CUST-AUTH-02`)。
- **メインフロー**:
  1. 顧客がマイページ等からプロフィール編集画面にアクセスする。
  2. システムが現在のプロフィール情報を表示する。
  3. 顧客が情報を更新し、「保存」ボタンをクリックする。
  4. システムが入力値を検証し、データベースの顧客情報を更新する。
  5. システムが更新完了メッセージを表示する。
- **代替フロー**: 入力値検証エラー時のメッセージ表示。
- **オブザーバビリティポイント**:
  - プロフィール更新APIのレスポンス時間と成功率 (`US-SRE-OBS-TREND-01`)
  - 更新頻度 (ログ分析)

##### 1.3.1.2.2. UC-CUST-HISTORY-01: 注文履歴確認

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-HISTORY-01`
- **前提条件**: 顧客がログインしている (`UC-CUST-AUTH-02`)。過去に注文がある。
- **メインフロー**:
  1. 顧客がマイページ等から注文履歴画面にアクセスする。
  2. システムが該当顧客の過去の注文データを取得し、一覧表示する。
  3. 顧客が特定の注文を選択し、詳細画面に遷移する。
  4. システムが選択された注文の詳細情報を表示する。
- **代替フロー**: 注文履歴がない場合のメッセージ表示。
- **オブザーバビリティポイント**:
  - 注文履歴APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - ページロード時間 (`US-SRE-RUM-01`)
  - 注文履歴閲覧頻度 (ログ分析, `US-BA-BI-SALES-01`)

##### 1.3.1.2.3. UC-CUST-HISTORY-02: 配送状況確認

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-HISTORY-02`
- **前提条件**: 顧客が注文詳細画面 (`UC-CUST-HISTORY-01` の一部) を表示している。対象注文が出荷済み (`UC-MGR-ORDER-02` 完了)。
- **メインフロー**:
  1. 顧客が注文詳細画面で配送状況セクションを確認する。
  2. システムが表示中の注文データに含まれる配送ステータス（または追跡番号と配送業者へのリンク）を表示する。
- **代替フロー**: 出荷前の場合、「出荷準備中」などのステータスを表示。追跡情報がない場合の表示。
- **オブザーバビリティポイント**:
  - 配送状況確認の頻度 (ログ分析)
  - (外部追跡サイトへのリンククリック率など)

##### 1.3.1.2.4. UC-CUST-HISTORY-NOTIF-01: 注文ステータス更新通知受信

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-HISTORY-NOTIF-01`
- **前提条件**: 注文ステータスが更新された (例: `UC-MGR-ORDER-02` で出荷完了)。通知基盤 (`US-DEV-NOTIF-IMPL-01`) が実装されている。
- **メインフロー**:
  1. 注文ステータス更新処理が通知イベントを発行する。
  2. 通知基盤がイベントを受け取り、メールテンプレート等で内容を生成する。
  3. 通知基盤がメール送信サービスを利用して顧客にメールを送信する。
  4. 顧客がステータス更新メールを受信する。
- **代替フロー**: メール送信失敗時のリトライ、エラー記録。
- **オブザーバビリティポイント**:
  - イベント発行からメール送信完了までの時間 (`US-SRE-OBS-TREND-01`)
  - メール送信成功率 (`US-SRE-OBS-TREND-01`)
  - メール開封率・クリック率 (`US-BA-BI-SALES-01`)

#### 1.3.1.3. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.1.3.1. UC-CUST-AUTH-01: アカウント登録

- **アクター**: サイト訪問者 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-AUTH-01`
- **前提条件**: 認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。
- **メインフロー**:
  1. 訪問者が登録ページにアクセスする。
  2. 訪問者がメールアドレス、パスワード等の必要情報を入力する。
  3. システムが認証基盤のAPIを呼び出してアカウント作成を試みる。
  4. 認証基盤がアカウントを作成し、(設定に応じて)確認メール送信処理をトリガーする。
  5. システムが登録完了メッセージを表示する。
- **代替フロー**: 入力値検証エラー、メールアドレス重複エラー。
- **オブザーバビリティポイント**:
  - アカウント登録APIの成功/失敗率、レイテンシ (`US-SRE-OBS-TREND-01`)
  - 登録失敗原因の分析 (ログ `US-DEV-OBS-DEBUG-01`)
  - 確認メール送信状況 (`UC-CUST-CHECKOUT-NOTIF-01` のオブザーバビリティポイントと同様)

##### 1.3.1.3.2. UC-CUST-AUTH-02: ログイン

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-AUTH-02`
- **前提条件**: アカウントが存在する (`UC-CUST-AUTH-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。
- **メインフロー**:
  1. 顧客がログインページにアクセスする。
  2. 顧客がメールアドレスとパスワードを入力する。
  3. システムが認証基盤のAPIを呼び出して認証を行う。
  4. 認証成功後、認証基盤がセッショントークン等を発行する。
  5. システムがトークンを保存し、顧客をログイン後のページにリダイレクトする。
- **代替フロー**: 認証失敗（ID/PW不一致）、アカウントロック時のメッセージ表示。ソーシャルログイン。
- **オブザーバビリティポイント**:
  - ログインAPIの成功/失敗率、レイテンシ (`US-SRE-OBS-TREND-01`)
  - ログイン失敗原因分析 (ログ `US-DEV-OBS-DEBUG-01`, `US-SEC-AUTH-AUDIT-01`)
  - ログイン方法別（通常/ソーシャル）の利用率 (ログ分析)
  - 不正ログイン試行の検知 (`US-SEC-OBS-AUDIT-01`)

##### 1.3.1.3.3. UC-CUST-AUTH-03: パスワードリセット

- **アクター**: 顧客 (田中 陽子)
- **関連ユーザーストーリー**: `US-CUST-AUTH-03`
- **前提条件**: アカウントが存在する。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。通知基盤 (`US-DEV-NOTIF-IMPL-01`) が実装済み。
- **メインフロー**:
  1. 顧客が「パスワードを忘れた場合」リンクをクリックする。
  2. システムがメールアドレス入力フォームを表示する。
  3. 顧客がメールアドレスを入力する。
  4. システムが認証基盤のAPIを呼び出し、パスワードリセット処理を開始させる。
  5. 認証基盤がリセット用コード/リンクを含むメールを送信する（通知基盤経由）。
  6. システムがメール送信指示完了メッセージを表示する。
  7. 顧客がメール内の指示に従い、新しいパスワードを設定するページにアクセスする。
  8. 顧客が新しいパスワードを入力する。
  9. システムが認証基盤のAPIを呼び出してパスワードを更新する。
  10. システムがリセット完了メッセージを表示する。
- **代替フロー**: メールアドレスが存在しない場合、メール送信失敗。
- **オブザーバビリティポイント**:
  - パスワードリセット要求API、パスワード更新APIの成功/失敗率、レイテンシ (`US-SRE-OBS-TREND-01`)
  - リセットメール送信成功率 (`US-SRE-OBS-TREND-01`)
  - パスワードリセット利用率 (ログ分析)

### 1.3.2. ECストアマネージャー (`MGR`) 向けユースケース詳細

#### 1.3.2.1. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.2.1.1. UC-MGR-AUTH-LOGIN-01: ストア管理機能ログイン

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-AUTH-LOGIN-01`
- **前提条件**: マネージャーアカウントが作成され、適切なロールが付与されている (`UC-SEC-AUTH-MANAGE-01`, `UC-SEC-AUTH-RBAC-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。
- **メインフロー**:
  1. マネージャーが管理画面ログインページにアクセスする。
  2. マネージャーが認証情報を入力する (MFAが必要な場合も含む)。
  3. システムが認証基盤APIを呼び出して認証を行う。
  4. 認証成功後、セッショントークン等を取得し、マネージャー向けのダッシュボードや機能画面にリダイレクトする。
- **代替フロー**: 認証失敗、MFA失敗。
- **オブザーバビリティポイント**: 管理者ログイン成功/失敗率、レイテンシ (`US-SRE-OBS-TREND-01`, `US-SEC-AUTH-AUDIT-01`)

#### 1.3.2.2. 商品・在庫管理 (`EP-PRODUCT-MANAGEMENT`)

##### 1.3.2.2.1. UC-MGR-PROD-01: 商品情報の登録・更新

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-PROD-01`, `US-MGR-PROD-02`, `US-MGR-PROD-03`
- **前提条件**: マネージャーがログインしている (`UC-MGR-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. マネージャーが商品管理メニューから「新規登録」または既存商品の「編集」を選択する。
  2. システムが商品情報入力フォームを表示する。
  3. マネージャーが商品名、説明、価格、カテゴリ、在庫数などの情報を入力・編集する。
  4. マネージャーが「保存」ボタンをクリックする。
  5. システムが入力値を検証し、バックエンドAPIを呼び出して商品データを保存/更新する。
  6. システムが完了メッセージを表示する。
- **代替フロー**: 検証エラー表示。
- **オブザーバビリティポイント**:
  - 商品登録/更新APIのレスポンス時間、成功/失敗率 (`US-SRE-OBS-TREND-01`)
  - 操作ログ (`US-SEC-OBS-AUDIT-01`)

##### 1.3.2.2.2. UC-MGR-PROD-02: 商品画像のアップロード

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-PROD-04`, (`US-DEV-IMAGE-IMPL-01`)
- **前提条件**: 商品登録/編集画面 (`UC-MGR-PROD-01`) を表示中。画像処理基盤 (`US-DEV-IMAGE-IMPL-01`) が実装済み。
- **メインフロー**:
  1. マネージャーが画像アップロードエリアでファイルを選択する。
  2. フロントエンドがバックエンドの画像アップロードAPIにファイルを送信する。
  3. APIがファイルを受け取り、非同期処理をトリガー（例: S3イベント通知やSQSメッセージ）。
  4. 非同期処理Lambdaが画像のリサイズ・最適化を行い、最終的な場所に保存する。
  5. (オプション) 処理完了をWebSocket等でフロントエンドに通知し、プレビューを更新する。
- **代替フロー**: ファイル形式エラー、アップロードサイズ超過エラー。画像処理失敗。
- **オブザーバビリティポイント**:
  - 画像アップロードAPIの成功/失敗率 (`US-SRE-OBS-TREND-01`)
  - 非同期画像処理Lambdaの実行時間、エラー率、メモリ使用率 (`US-SRE-LAMBDA-01`)
  - 処理前後のファイルサイズ (ログ)

##### 1.3.2.2.3. UC-MGR-CAT-01: 商品カタログの管理

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-CAT-01`, `US-MGR-CAT-02`
- **前提条件**: マネージャーがログインしている (`UC-MGR-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. マネージャーがカテゴリ管理画面にアクセスする。
  2. システムが現在のカテゴリツリー構造を表示する。
  3. マネージャーがカテゴリの追加、名称変更、階層移動、削除などを行う。
  4. システムが対応するAPIを呼び出し、カテゴリ情報を更新する。
  5. システムが画面を更新する。
- **代替フロー**: 使用中のカテゴリ削除時の警告など。
- **オブザーバビリティポイント**:
  - カテゴリ管理APIのレスポンス時間、成功/失敗率 (`US-SRE-OBS-TREND-01`)
  - 操作ログ (`US-SEC-OBS-AUDIT-01`)

##### 1.3.2.2.4. UC-MGR-INV-01: 在庫モニタリング

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-INV-01`
- **前提条件**: マネージャーがログインしている (`UC-MGR-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. マネージャーが在庫管理ダッシュボード/一覧画面にアクセスする。
  2. システムが商品ごとの現在の在庫数を表示する。
  3. マネージャーが在庫数でフィルタリング（例: 在庫僅少）やソートを行う。
- **代替フロー**: なし
- **オブザーバビリティポイント**:
  - 在庫情報取得APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - ダッシュボード表示速度 (`US-SRE-RUM-01` も関連)

##### 1.3.2.2.5. UC-MGR-INV-02: 在庫更新

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-INV-02`
- **前提条件**: マネージャーがログインしている (`UC-MGR-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. マネージャーが在庫管理画面で特定商品の在庫数を編集する。
  2. マネージャーが更新を確定する。
  3. システムが在庫更新APIを呼び出し、在庫データを更新する。
  4. 在庫がゼロから増加した場合、入荷通知イベントを発行 (`UC-CUST-BROWSE-NOTIF-01` へ)。
  5. システムが更新完了メッセージを表示する。
- **代替フロー**: CSVアップロードによる一括更新など。
- **オブザーバビリティポイント**:
  - 在庫更新APIのレスポンス時間、成功/失敗率 (`US-SRE-OBS-TREND-01`)
  - 在庫更新の操作ログ (`US-SEC-OBS-AUDIT-01`)
  - 入荷通知イベントの発行数 (メトリクス `US-DEV-OBS-METRIC-IMPL-01`)

##### 1.3.2.2.6. UC-MGR-INV-03: 低在庫アラート対応

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-INV-03`
- **前提条件**: 低在庫の閾値が設定されており、それを下回る商品が存在する。アラート通知の仕組みがある (例: 定期バッチ `UC-SRE-BATCH-03` でチェックし通知、または在庫更新時にリアルタイムチェック)。
- **メインフロー**:
  1. マネージャーが低在庫アラートの通知（メールや管理画面上の警告）を受け取る。
  2. マネージャーが在庫管理画面 (`UC-MGR-INV-01`) で対象商品を確認する。
  3. マネージャーが必要に応じて発注処理を行う（システム外部の活動）。
  4. (オプション) マネージャーが管理画面でアラートを確認済みにする。
- **代替フロー**: アラートが不要な場合（廃盤商品など）は無視または設定解除。
- **オブザーバビリティポイント**:
  - 低在庫アラートの発生頻度 (メトリクス or ログ `US-DEV-OBS-METRIC-IMPL-01`)
  - アラート発生から確認/対応までの時間 (運用指標として)

#### 1.3.2.3. 受注・出荷管理 (`EP-ORDER-FULFILLMENT`)

##### 1.3.2.3.1. UC-MGR-ORDER-01: 注文確認処理

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-ORDER-01`, `US-MGR-ORDER-03`
- **前提条件**: マネージャーがログインしている (`UC-MGR-AUTH-LOGIN-01`)。新規注文が存在する (`UC-CUST-CHECKOUT-01`完了後)。
- **メインフロー**:
  1. マネージャーが注文管理画面にアクセスし、新規注文一覧を確認する。
  2. マネージャーが特定の注文を選択し、詳細（商品、顧客情報、配送先、支払い状況など）を確認する。
  3. マネージャーが注文内容に問題がないことを確認し、「確認済み」や「処理中」などのステータスに更新する (`US-MGR-ORDER-02` の一部)。
- **代替フロー**: 不正注文の疑いがある場合、保留ステータスにする。顧客への確認連絡が必要な場合。
- **オブザーバビリティポイント**:
  - 注文一覧/詳細取得APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - 新規注文発生からマネージャー確認までの時間 (運用指標)
  - 保留/キャンセルされる注文の割合と理由 (ログ分析 `US-DEV-OBS-DEBUG-01`)

##### 1.3.2.3.2. UC-MGR-ORDER-02: 出荷処理

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-ORDER-02`, `US-MGR-ORDER-04`
- **前提条件**: マネージャーがログイン (`UC-MGR-AUTH-LOGIN-01`)。注文が確認済み (`UC-MGR-ORDER-01`)。
- **メインフロー**:
  1. マネージャーが出荷対象の注文を選択する（例: ステータスが「処理中」の注文）。
  2. マネージャーがピッキングリストや納品書を印刷する（オプション）。
  3. マネージャーが商品を梱包し、配送業者に引き渡す（システム外部）。
  4. マネージャーが管理画面で該当注文のステータスを「出荷済み」に更新する。
  5. マネージャーが追跡番号などの配送情報を入力する (`US-MGR-ORDER-04`)。
  6. システムが注文ステータスを更新し、出荷通知イベントを発行 (`UC-CUST-HISTORY-NOTIF-01` へ)。
- **代替フロー**: 一部商品のみ出荷（分割出荷）。
- **オブザーバビリティポイント**:
  - 注文ステータス更新APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - 注文確認から出荷完了までのリードタイム (ビジネスKPI `US-BA-BI-SALES-01`)
  - 出荷通知イベントの発行数 (メトリクス `US-DEV-OBS-METRIC-IMPL-01`)

##### 1.3.2.3.3. UC-MGR-ORDER-03: 返品・交換処理

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-ORDER-05`
- **前提条件**: マネージャーがログイン (`UC-MGR-AUTH-LOGIN-01`)。顧客から返品/交換の連絡がある。
- **メインフロー**:
  1. マネージャーが顧客からの連絡に基づき、返品/交換リクエストを管理画面で検索または新規作成する。
  2. マネージャーがリクエスト内容を確認し、承認/却下を決定する。
  3. 承認の場合、顧客に返送手順などを連絡する（システム外部 or 通知機能）。
  4. 返送品が到着したら、マネージャーが商品状態を確認する（システム外部）。
  5. マネージャーが管理画面で返品/交換処理を完了ステータスにする。
  6. 必要に応じて返金処理や交換品の出荷処理 (`UC-MGR-ORDER-02`) を行う。
- **代替フロー**: 却下の場合、理由を記録。
- **オブザーバビリティポイント**:
  - 返品/交換処理のステータス更新API (`US-SRE-OBS-TREND-01`)
  - 返品/交換率、理由の分析 (`US-BA-BI-PROD-01`)
  - 処理完了までのリードタイム (ビジネスKPI)

##### 1.3.2.3.4. UC-MGR-REPORT-01: 基本売上レポート確認

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-REPORT-01`
- **前提条件**: マネージャーがログイン (`UC-MGR-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. マネージャーが管理画面のレポートメニューにアクセスする。
  2. システムが基本的な売上概要（今日の売上、今月の売上など）やシンプルなグラフを表示する。
  3. (オプション) マネージャーが期間を指定して表示を更新する。
- **代替フロー**: データがない場合の表示。
- **オブザーバビリティポイント**:
  - レポートデータ取得APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - レポート表示速度 (`US-SRE-RUM-01`)

#### 1.3.2.4. マーケティング (`EP-CUSTOMER-ENGAGEMENT`)

##### 1.3.2.4.1. UC-MGR-PROMO-01: プロモーション管理

- **アクター**: ECストアマネージャー (佐藤 健太)
- **関連ユーザーストーリー**: `US-MGR-PROMO-01`
- **前提条件**: マネージャーがログイン (`UC-MGR-AUTH-LOGIN-01`)。通知基盤 (`US-DEV-NOTIF-IMPL-01`) が実装済み。
- **メインフロー**:
  1. マネージャーがプロモーション管理画面にアクセスする。
  2. マネージャーが新規プロモーション（セール告知、クーポン配布など）を作成する。
  3. プロモーション名、期間、内容、対象顧客、通知メッセージなどを設定する。
  4. マネージャーが設定を保存し、「有効化」または「通知送信予約」を行う。
  5. システムが設定を保存し、必要に応じて通知送信処理を（即時またはスケジュールで）トリガーする。
- **代替フロー**: 既存プロモーションの編集、無効化。
- **オブザーバビリティポイント**:
  - プロモーション設定APIのレスポンス時間 (`US-SRE-OBS-TREND-01`)
  - プロモーション通知の送信数・成功率 (`US-SRE-OBS-TREND-01`)
  - プロモーション効果測定 (`US-BA-BI-SALES-01`)

### 1.3.3. 開発者 (`DEV`) 向けユースケース詳細

#### 1.3.3.1. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.3.1.1. UC-DEV-AUTH-LOGIN-01: 開発関連管理機能ログイン

- **アクター**: 開発者 (山田 修一)
- **関連ユーザーストーリー**: `US-DEV-AUTH-LOGIN-01`
- **前提条件**: 開発者アカウントが作成され、適切なロールが付与されている (`UC-SEC-AUTH-MANAGE-01`, `UC-SEC-AUTH-RBAC-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。開発者向け管理ツール/画面が存在する。
- **メインフロー**:
  1. 開発者が開発者向け管理ツールのログインページにアクセスする。
  2. 開発者が認証情報を入力する。
  3. システムが認証基盤を利用して認証を行う。
  4. 認証成功後、開発関連機能（フィーチャーフラグ管理、テストデータ管理など）にアクセスできるようになる。
- **代替フロー**: 認証失敗。
- **オブザーバビリティポイント**: 開発者ログイン試行のログ (`US-SEC-AUTH-AUDIT-01`)

#### 1.3.3.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

##### 1.3.3.2.1. UC-DEV-OBS-DEBUG-01: 開発/STGログ・トレース分析

- **アクター**: 開発者 (山田 修一)
- **関連ユーザーストーリー**: `US-DEV-OBS-DEBUG-01`
- **前提条件**: ログ/トレース出力・収集の仕組み (`US-DEV-OBS-LOG-IMPL-01`, `US-DEV-OBS-TRACE-IMPL-01`) が実装済み。開発/ステージング環境でアプリが稼働中。オブザーバビリティツール（CloudWatch Logs Insights, X-Ray等）へのアクセス権がある。
- **メインフロー**:
  1. 開発者がテスト実行や動作確認中に問題を発見する。
  2. 開発者が問題発生時のリクエスト情報（リクエストID、時刻、関連ユーザーIDなど）を特定する。
  3. 開発者がオブザーバビリティツールを使用し、特定した情報でログやトレースを検索・フィルタリングする。
  4. 開発者がログメッセージ（特にエラーやデバッグレベル）、スタックトレース、トレース内の各処理ステップ（スパン）の実行時間や属性情報を確認する。
  5. 分析結果に基づき、コード内の問題箇所を特定し、修正を行う。
- **代替フロー**: ローカル環境でのデバッガ利用と併用。
- **オブザーバビリティポイント**:
  - ログ/トレース検索ツールの応答性 (`US-SRE-VIS-01`)
  - ログやトレースから問題原因を特定できるか（情報の十分性）

##### 1.3.3.2.2. UC-DEV-OBS-PERF-ANALYZE-01: 開発/STG性能分析

- **アクター**: 開発者 (山田 修一)
- **関連ユーザーストーリー**: `US-DEV-OBS-PERF-ANALYZE-01`
- **前提条件**: メトリクス/トレース収集の仕組み (`US-DEV-OBS-METRIC-IMPL-01`, `US-DEV-OBS-TRACE-IMPL-01`) が実装済み。開発/ステージング環境でアプリが稼働中。オブザーバビリティツール（CloudWatch Metrics, X-Ray等）へのアクセス権がある。
- **メインフロー**:
  1. 開発者が性能を測定・分析したい機能（例: 新しく実装したAPI）を特定する。
  2. 開発者が対象機能を実行する（手動、または負荷テストツール等）。
  3. 開発者がオブザーバビリティツールを使用し、対象機能に関連するメトリクス（レイテンシp50/p90/p99、エラー率、リクエスト数）やトレースデータを確認する。
  4. 開発者がトレースデータをドリルダウンし、特に時間のかかっている処理ステップ（DBアクセス、外部API呼び出し、特定の関数）を特定する。
  5. 必要に応じてプロファイリングツール等でコードレベルのボトルネックを調査する。
  6. 分析結果に基づき、パフォーマンス改善策（クエリ改善、キャッシング、アルゴリズム変更等）を検討・実装する。
- **代替フロー**: A/Bテスト等で異なる実装の性能を比較する。
- **オブザーバビリティポイント**:
  - メトリクス/トレースデータの粒度と正確性
  - ボトルネック特定に要する時間

### 1.3.4. SRE/運用担当者 (`SRE`) 向けユースケース詳細

#### 1.3.4.1. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.4.1.1. UC-SRE-AUTH-LOGIN-01: 運用管理機能ログイン

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-AUTH-LOGIN-01`
- **前提条件**: SREアカウントが作成され、適切なロールが付与されている (`UC-SEC-AUTH-MANAGE-01`, `UC-SEC-AUTH-RBAC-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。運用管理/監視ツール（CloudWatch等）が存在する。
- **メインフロー**:
  1. SREが運用管理/監視ツールのログインページにアクセスする。
  2. SREが認証情報を入力する (MFAが必要な場合も含む)。
  3. システムが認証基盤APIを呼び出して認証を行う。
  4. 認証成功後、監視ダッシュボードや設定画面などにアクセスできるようになる。
- **代替フロー**: 認証失敗。
- **オブザーバビリティポイント**: SREログイン試行のログ (`US-SEC-AUTH-AUDIT-01`)

#### 1.3.4.2. システム管理・運用 (`EP-SYSTEM-ADMINISTRATION`)

##### 1.3.4.2.1. UC-SRE-BATCH-01: データエクスポート管理

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-BATCH-01`
- **前提条件**: SREがログイン済み (`UC-SRE-AUTH-LOGIN-01`)。エクスポート対象データが存在する。エクスポート処理を実行する仕組み（例: Step Functions, Batch）が存在する。
- **メインフロー**:
  1. SREがデータエクスポート管理画面（またはCLI/API）を使用する。
  2. SREがエクスポート対象（データ種別、期間等）、フォーマット、出力先（S3バケット等）を指定する。
  3. SREがエクスポートジョブを実行（即時またはスケジュール）する。
  4. システムがバックグラウンドでデータ抽出・変換・出力処理を実行する。
  5. SREがジョブの実行状況（成功/失敗、所要時間）と出力結果を確認する。
- **代替フロー**: 大規模データの場合の処理時間考慮、エラー発生時の通知・リトライ。
- **オブザーバビリティポイント**:
  - エクスポートジョブの実行時間、成功/失敗率、リソース使用状況 (`US-SRE-LAMBDA-01` or Batch metrics)
  - ジョブ実行ログ (`US-SRE-OBS-DASH-01` で確認)

##### 1.3.4.2.2. UC-SRE-BATCH-02: 定期メンテナンス管理

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-BATCH-02`
- **前提条件**: SREがログイン済み (`UC-SRE-AUTH-LOGIN-01`)。メンテナンス処理（スクリプト、Lambda等）が実装済み。スケジューラー（EventBridge Scheduler等）が利用可能。
- **メインフロー**:
  1. SREがメンテナンスジョブ管理画面（またはIaC）を使用する。
  2. SREがメンテナンスジョブの種類（DB最適化、ログアーカイブ等）を選択し、実行スケジュール（例: 毎週日曜深夜）を設定する。
  3. システムが設定されたスケジュールに従ってジョブを自動実行する。
  4. SREがジョブの実行結果（成功/失敗、エラー内容）をダッシュボードやログで確認する (`US-SRE-OBS-DASH-01`)。
- **代替フロー**: 手動でのジョブ実行。実行失敗時のアラート通知 (`UC-SRE-OBS-ALERT-01`)。
- **オブザーバビリティポイント**:
  - メンテナンスジョブの実行時間、成功/失敗率 (`US-SRE-OBS-TREND-01`)
  - メンテナンスによる効果（DB性能改善、ディスク使用量削減など）のメトリクス確認 (`US-SRE-OBS-TREND-01`)

##### 1.3.4.2.3. UC-SRE-BATCH-03: 定期レポートバッチ管理

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-BATCH-03`
- **前提条件**: SREがログイン済み (`UC-SRE-AUTH-LOGIN-01`)。レポート生成ロジック（Lambda等）が実装済み。スケジューラーが利用可能。
- **メインフロー**:
  1. SREがレポートバッチ管理画面（またはIaC）を使用する。
  2. SREがレポートの種類（在庫レポート、売上集計等）を選択し、生成スケジュール（例: 毎日早朝）と配信先（S3、メール等）を設定する。
  3. システムがスケジュールに従ってレポート生成バッチを実行する。
  4. SREがバッチの実行結果と生成されたレポートを確認（または関係者への配信を確認）する。
- **代替フロー**: 特定期間のレポートを手動生成。
- **オブザーバビリティポイント**:
  - レポート生成バッチの実行時間、成功/失敗率、リソース使用量 (`US-SRE-LAMBDA-01`)
  - バッチ実行ログ (`US-SRE-OBS-DASH-01`)

#### 1.3.4.3. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

##### 1.3.4.3.1. UC-SRE-OBS-IMPL-01: オブザーバビリティインフラ構築

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-OBS-IMPL-01`
- **前提条件**: AWSアカウントへのアクセス権限。IaCツール（Terraform等）の利用環境。
- **メインフロー**:
  1. SREがオブザーバビリティ要件（収集対象、保持期間、アラート基準など）に基づき、IaCコードを作成・修正する。
     - CloudWatch Logs: ロググループ、保持期間、サブスクリプションフィルターなど
     - CloudWatch Metrics: 標準メトリクス有効化、カスタムメトリクス名前空間など
     - CloudWatch Alarms: 監視対象メトリクス、閾値、アクション（SNS通知等）
     - X-Ray: サンプリングルール
     - RUM: アプリケーションモニター設定、データ収集スコープ
     - (オプション) Grafana, OpenSearch などの設定
  2. SREがIaCツールを実行し、AWS上にリソースをプロビジョニングまたは更新する。
  3. SREがアプリケーション側との連携設定（計装コード `US-DEV-OBS-...-IMPL-01` との整合性）を確認する。
  4. SREがテストデータ等を流し、データが意図通り収集・表示されることを確認する。
- **代替フロー**: AWSマネジメントコンソールでの手動設定（IaC管理外となるため非推奨）。既存設定の変更。
- **オブザーバビリティポイント**:
  - IaCデプロイの成功率と所要時間
  - プロビジョニングされたリソースの確認
  - 初期データ収集状況の確認

##### 1.3.4.3.2. UC-SRE-OBS-DASH-01: システムヘルスダッシュボード確認

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-OBS-DASH-01`
- **前提条件**: オブザーバビリティインフラ (`UC-SRE-OBS-IMPL-01`) が構築済み。ダッシュボード（CloudWatch Dashboard, Grafana等）が作成されている。
- **メインフロー**:
  1. SREが定期的（例: 勤務開始時、定時）またはアラート発生時に、システムヘルスダッシュボードを開く。
  2. SREが主要なSLI/メトリクス（全体のエラー率、主要APIのレイテンシp99、キューの滞留数、DB接続数、CPU/メモリ使用率など）の現在値とトレンドを確認する。
  3. SREが異常なパターンや閾値に近い値がないかを確認する。
  4. 異常が見られる場合、詳細調査 (`UC-SRE-OBS-INCIDENT-INVESTIGATE-01`) に移行する。
- **代替フロー**: ダッシュボードのカスタマイズ。
- **オブザーバビリティポイント**:
  - ダッシュボードの表示速度と応答性 (`US-SRE-VIS-01`)
  - 主要メトリクスの網羅性と分かりやすさ

##### 1.3.4.3.3. UC-SRE-OBS-ALERT-01: 異常検知とアラート対応

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-OBS-ALERT-01`
- **前提条件**: アラーム設定が完了している (`UC-SRE-OBS-IMPL-01` の一部)。通知設定が完了している。
- **メインフロー**:
  1. システムで異常が発生し、CloudWatch Alarmなどがアラート状態 (ALARM) に遷移する。
  2. 設定されたアクション（例: SNSトピックへの発行）が実行される。
  3. SNS経由でSREに通知（メール、Slack等）が届く。
  4. SREが通知内容を確認し、アラートの発生源と深刻度を把握する。
  5. SREが対応を開始し、関連ダッシュボードやログを確認して調査 (`UC-SRE-OBS-INCIDENT-INVESTIGATE-01`) を行う。
  6. 問題解決後、アラート状態が正常 (OK) に戻ることを確認する。
  7. 必要に応じてアラート設定（閾値、評価期間など）を見直す。
- **代替フロー**: 自動修復 (`UC-SRE-AUTO-IMPL-01`) がトリガーされる。誤検知 (False Positive) の場合の対応。
- **オブザーバビリティポイント**:
  - アラートの検知精度（誤検知/見逃し率）
  - 通知遅延
  - アラート発生から対応開始までの時間 (MTTA - Mean Time To Acknowledge)

##### 1.3.4.3.4. UC-SRE-OBS-TREND-01: パフォーマンス/エラートレンド分析

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-OBS-TREND-01`
- **前提条件**: 十分な期間のメトリクスデータ (レイテンシ、エラー率、スループット等) が収集されている。
- **メインフロー**:
  1. SREが定期的に、または特定の調査目的でCloudWatch Metricsや他の可視化ツール (`UC-SRE-VIS-01`) を使用する。
  2. SREが分析したいメトリクス（例: 特定APIのp90レイテンシ、全体の5xxエラー率）を選択し、表示期間（週、月、四半期など）を設定する。
  3. SREが表示されたグラフのトレンド（上昇/下降/横ばい）、周期性、スパイクなどを観察する。
  4. 性能劣化やエラー増加の兆候が見られる場合、関連する変更履歴（デプロイ、設定変更）や他のメトリクスとの相関を確認し、原因を推測する。
  5. 分析結果に基づき、最適化 (`UC-SRE-LAMBDA-01` など) やインシデント調査 (`UC-SRE-OBS-INCIDENT-INVESTIGATE-01`) の必要性を判断する。
- **代替フロー**: CloudWatch Anomaly Detectionなどを利用して異常なトレンドを自動検出する。
- **オブザーバビリティポイント**:
  - 履歴データの保持期間と粒度
  - トレンド分析の容易さ（ツールの機能）
  - 異常の早期発見に繋がったか

##### 1.3.4.3.5. UC-SRE-LAMBDA-01: 本番Lambda監視/最適化

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-LAMBDA-01`
- **前提条件**: Lambda関数が本番環境で稼働中。Lambda Insightsなどの詳細モニタリングが有効。
- **メインフロー**:
  1. SREがCloudWatchのLambda監視画面やカスタムダッシュボード (`UC-SRE-OBS-DASH-01`) を確認する。
  2. SREが主要なLambda関数について、実行時間（平均、パーセンタイル）、エラー率、スロットリング発生数、メモリ使用率、コールドスタート発生状況などのメトリクスを監視する。
  3. パフォーマンス低下（実行時間増）、エラー率上昇、過剰なメモリ割り当てなどの問題が見られる関数を特定する。
  4. X-Rayトレース (`UC-SRE-OBS-INCIDENT-INVESTIGATE-01`) や関連ログを分析し、問題の原因を調査する。
  5. 調査結果に基づき、開発者と協力してコード修正や設定変更（メモリ割り当て、タイムアウト値、プロビジョンドコンカレンシー設定など）を行い、最適化する。
  6. 変更後のパフォーマンスを再評価する。
- **代替フロー**: コスト最適化の観点での分析 (`UC-SRE-COST-01`)。
- **オブザーバビリティポイント**:
  - Lambda関数ごとの主要メトリクスの可視性
  - コールドスタートやスロットリングの影響分析
  - メモリ設定の推奨値との比較

##### 1.3.4.3.6. UC-SRE-UX-01: E2Eユーザー体験監視

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-UX-01`
- **前提条件**: 主要なユーザージャーニーが定義されている。エンドツーエンドテストや合成監視 (Synthetic Monitoring - 例: CloudWatch Synthetics) が設定されている。
- **メインフロー**:
  1. SREが合成監視の結果ダッシュボード (`UC-SRE-OBS-DASH-01`) を確認する。
  2. SREが主要なユーザージャーニー（例: 商品検索→カート追加→注文完了）の成功率とステップごとの所要時間を確認する。
  3. 成功率の低下や所要時間の大幅な増加が見られた場合、アラート (`UC-SRE-OBS-ALERT-01`) が発生する、またはSREが調査を開始する。
  4. SREが失敗したテストの詳細（スクリーンショット、HARファイル、ログ、トレース）を確認し、問題が発生しているステップや原因（フロントエンドの問題かバックエンドの問題か）を切り分ける。
  5. RUMデータ (`UC-SRE-RUM-01`) やバックエンドのログ/トレース (`UC-SRE-OBS-INCIDENT-INVESTIGATE-01`) と突き合わせ、根本原因を特定する。
- **代替フロー**: 新しいジャーニーの監視を追加設定する。
- **オブザーバビリティポイント**:
  - 主要ジャーニーのSLO達成状況
  - ステップごとのレイテンシの内訳
  - エラー発生時の詳細情報（スクリーンショット等）の有用性

##### 1.3.4.3.7. UC-SRE-COST-01: コスト監視と最適化

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-COST-01`
- **前提条件**: AWS Cost Explorerや請求ダッシュボードへのアクセス権がある。コスト配分タグなどが設定されているとなお良い。
- **メインフロー**:
  1. SREが定期的にAWS Cost Explorer等を開き、全体のコストトレンドを確認する。
  2. SREがサービス別（EC2, Lambda, CloudWatch, S3など）やタグ別にコストを分析し、特にコストが高い、または急増しているコンポーネントを特定する。
  3. オブザーバビリティ関連コスト（CloudWatch Logs取り込み/保存、Metrics、Alarms、X-Ray等）の内訳を確認する。
  4. コスト削減の機会（過剰なリソース、不要なログレベル、長すぎる保持期間、最適でないインスタンスタイプ等）を特定する。
  5. 他のメトリクス（使用率 `UC-SRE-CAPACITY-01`、パフォーマンス `UC-SRE-OBS-TREND-01`）と照らし合わせ、コスト削減策（設定変更、リソース削除、アーキテクチャ見直し）を計画・実施する。
  6. 実施後のコスト削減効果を測定・評価する。
- **代替フロー**: 予算アラート発生時の緊急対応。
- **オブザーバビリティポイント**:
  - コストの内訳とトレンドの可視性
  - コストと使用量の相関分析
  - 最適化推奨事項（Trusted Advisorなど）の活用

##### 1.3.4.3.8. UC-SRE-AUTO-IMPL-01: 自動修復メカニズム実装

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-AUTO-IMPL-01`
- **前提条件**: 自動化したい障害パターンと修復手順が特定されている。アラーム (`UC-SRE-OBS-ALERT-01`) 設定が可能。修復アクションを実行するツール（Lambda, Systems Manager Automation）が利用可能。
- **メインフロー**:
  1. SREが自動修復対象とする障害パターン（例: 特定のエラーログ頻発、ヘルスチェック失敗）に対応するCloudWatch Alarmを定義する。
  2. SREが修復アクション（例: 関連サービスの再起動、キャッシュクリア、特定プロセスのkill）を実行するLambda関数やSystems Manager Automationドキュメントを作成・テストする。
  3. SREがCloudWatch Alarmのアクションとして、上記で作成した修復アクションをトリガーするように設定する（例: EventBridge経由でLambdaを起動）。
  4. SREがテスト環境で意図的に障害を発生させ、自動修復が期待通りに動作すること、副作用がないことを確認する。
  5. 本番環境にデプロイし、実行ログやメトリクスで動作状況を監視する。
- **代替フロー**: 修復失敗時のエスカレーション通知設定。
- **オブザーバビリティポイント**:
  - 自動修復の実行回数、成功/失敗率 (カスタムメトリクス or ログ `US-DEV-OBS-METRIC-IMPL-01`)
  - 自動修復にかかる時間
  - 自動修復によるインシデント解決率の変化

##### 1.3.4.3.9. UC-SRE-CHAOS-01: カオスエンジニアリング検証

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-CHAOS-01`
- **前提条件**: 検証対象のシステムと、その定常状態を示すメトリクスが定義されている。オブザーバビリティ基盤が整備されている。AWS FISなどの障害注入ツールが利用可能。
- **メインフロー**:
  1. SREがシステムの潜在的な弱点に関する仮説を立てる（例: 「特定のAZが利用不可になってもサービスは継続できるはずだ」）。
  2. SREが仮説を検証するための障害シナリオ（例: 特定AZのEC2インスタンスを停止する）と測定指標（例: エラー率、レイテンシ、復旧時間）、実験計画（期間、影響範囲、中止条件）を設計する。
  3. SREがAWS FIS等で実験テンプレートを作成し、安全装置（自動停止アラーム等）を設定する。
  4. SREが関係者に告知の上、計画に従って実験を開始し、障害を注入する。
  5. SREがダッシュボード (`UC-SRE-OBS-DASH-01`) 等でシステムの応答（メトリクス、アラート）をリアルタイムで観測する。
  6. 実験終了後、収集したデータを分析し、仮説が正しかったか、予期せぬ問題が発生しなかったか、回復メカニズムは期待通り動作したかなどを評価する。
  7. 発見された弱点に対する改善策を特定し、バックログに追加する。
- **代替フロー**: 実験中に中止条件に抵触した場合、即時停止・ロールバックする。
- **オブザーバビリティポイント**:
  - 障害注入中のSLI変動
  - 回復メカニズム（自動スケーリング、フェイルオーバー等）の発動状況と所要時間
  - 関連アラートの発報状況 (`UC-SRE-OBS-ALERT-01`)
  - 実験前後でのシステム状態の比較

##### 1.3.4.3.10. UC-SRE-RUM-01: RUMによるフロントエンド監視

- **アクター**: SRE/運用担当者 (鈴木 誠), (フロントエンド開発者も関与)
- **関連ユーザーストーリー**: `US-SRE-RUM-01`
- **前提条件**: RUM (CloudWatch RUM等) が導入・設定されている (`UC-SRE-OBS-IMPL-01` の一部)。
- **メインフロー**:
  1. SREがRUMダッシュボード (`UC-SRE-OBS-DASH-01` の一部) を確認する。
  2. SREがCore Web Vitals (LCP, FID/INP, CLS)、ページロード時間、JavaScriptエラー率などの主要指標の現状値、分布、トレンドを確認する。
  3. パフォーマンス目標(SLO)を下回る指標や、急激に悪化した指標、エラー率の高いページなどを特定する。
  4. SREが地域、デバイス、ブラウザ等のディメンションでデータを絞り込み、問題の影響範囲や特定の原因（例: 特定地域でのみ遅い、特定のJSファイルでエラー多発）を分析する。
  5. 分析結果を開発者（特にフロントエンド）に共有し、最適化を依頼する。
  6. 最適化実施後、指標の改善を確認する。
- **代替フロー**: 特定ユーザーセッションの詳細トレース分析。
- **オブザーバビリティポイント**:
  - Core Web Vitals等の主要指標の分布とSLO達成状況
  - JSエラー発生率と種類別、ページ別分類
  - 地域/デバイス/ブラウザ別パフォーマンス比較

##### 1.3.4.3.11. UC-SRE-CAPACITY-01: キャパシティ分析/計画

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-CAPACITY-01`
- **前提条件**: 十分な期間のリソース使用率メトリクス（CPU, Memory, Disk, Network, DB接続数等）が収集されている。
- **メインフロー**:
  1. SREがリソース使用率ダッシュボード (`UC-SRE-OBS-DASH-01`) やCloudWatch Metricsで、主要コンポーネントのリソース使用率トレンド（日次、週次、月次）を確認する。
  2. ピーク時の使用率、平均使用率、増加傾向などを把握する。
  3. CloudWatch Anomaly Detection等も活用し、季節性や異常なスパイクを特定する。
  4. ビジネス予測（トラフィック増加予測、新機能リリース等）を考慮し、将来必要なリソース容量を予測する。
  5. 予測に基づき、自動スケーリング設定（最小/最大インスタンス数、スケーリングポリシー、閾値）を見直し、調整する。
  6. 必要に応じて、より大きなインスタンスタイプへの変更や、DBのスケールアップなどを計画・実施する。
- **代替フロー**: イベント等に合わせた一時的なキャパシティ増強。低使用率リソースの縮小検討 (`UC-SRE-COST-01`)。
- **オブザーバビリティポイント**:
  - 各リソース使用率のトレンドと予測精度
  - スケーリングイベントの発生頻度とトリガー条件
  - リソース枯渇リスクの評価
  - キャパシティ変更前後のパフォーマンステスト結果

##### 1.3.4.3.12. UC-SRE-VIS-01: 高度な可視化と分析

- **アクター**: SRE/運用担当者 (鈴木 誠), 開発者 (山田 修一)
- **関連ユーザーストーリー**: `US-SRE-VIS-01`
- **前提条件**: オブザーバビリティデータ（ログ、メトリクス、トレース）が収集・集約されている。可視化ツール（CloudWatch Dashboards, Grafana等）と分析ツール（Logs Insights, Athena等）が利用可能。
- **メインフロー**:
  1. SRE/開発者が特定の調査目的（例: 特定エラーの原因究明、複雑な性能問題の分析）を持つ。
  2. 可視化ツールを使用し、関連する複数のメトリクス、ログ、トレースデータを一つのダッシュボードに統合表示する。
     - 例: 特定APIのレイテンシ(Metric)、関連Lambdaのエラーログ(Log)、リクエストのトレース(Trace)を時間軸を合わせて表示する。
  3. 分析ツールを使用し、ログデータに対して複雑なクエリ（例: 特定エラー発生前後の関連ログパターン抽出、複数条件でのフィルタリング）を実行する。
  4. トレースデータを分析し、サービス間の依存関係マップや、リクエストパス全体のボトルネックを特定する。
  5. これらの情報を組み合わせることで、単一のデータソースでは見えなかった相関関係や根本原因に関する洞察を得る。
  6. 洞察に基づき、具体的な改善アクションを決定する。
- **代替フロー**: QuickSight等でビジネスデータとオブザーバビリティデータを組み合わせた分析 (`UC-BA-BI-*` と連携)。
- **オブザーバビリティポイント**:
  - 複数データソースを横断した分析の容易さ
  - クエリや可視化の柔軟性と表現力
  - 分析によって得られたインサイトの質とアクションへの繋がり

##### 1.3.4.3.13. UC-SRE-OBS-INCIDENT-INVESTIGATE-01: インシデント調査

- **アクター**: SRE/運用担当者 (鈴木 誠)
- **関連ユーザーストーリー**: `US-SRE-OBS-INCIDENT-INVESTIGATE-01`
- **前提条件**: アラート (`UC-SRE-OBS-ALERT-01`) が発生、またはユーザーからの障害報告があった。オブザーバビリティツールが利用可能。
- **メインフロー**:
  1. SREがインシデント発生を認知し、影響範囲（どの機能、どのユーザー）と深刻度を初期評価する。
  2. SREが関連するダッシュボード (`UC-SRE-OBS-DASH-01`) を確認し、異常を示しているメトリクスや期間を特定する。
  3. SREがX-Rayや他のトレースツールを使用し、エラーが発生している、または遅延しているリクエストの処理パスを追跡し、問題のあるコンポーネントやサービス呼び出しを特定する。
  4. SREがCloudWatch Logs Insights等を使用し、特定したコンポーネントや期間に関連するエラーログ、警告ログ、関連リクエストのログを検索・分析する。
  5. SREが必要に応じて、関連する設定変更履歴（例: CloudTrailログ `UC-SEC-OBS-AUDIT-01`) やデプロイ履歴を確認する。
  6. これらの情報を総合的に分析し、インシデントの根本原因を特定する。
  7. 特定した原因に基づいて、復旧対応策を実施する。
- **代替フロー**: 原因特定が困難な場合、チームメンバーや開発者にエスカレーションする。
- **オブザーバビリティポイント**:
  - 根本原因特定に要する時間 (MTTI - Mean Time To Identify)
  - ログ、メトリクス、トレース間の連携・相関分析の容易さ
  - 調査に必要な情報が欠落していないか

### 1.3.5. セキュリティ担当者 (`SEC`) 向けユースケース詳細

#### 1.3.5.1. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.5.1.1. UC-SEC-AUTH-LOGIN-01: セキュリティ管理機能ログイン

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-LOGIN-01`
- **前提条件**: セキュリティ担当者アカウントが作成され、適切なロールが付与されている (`UC-SEC-AUTH-MANAGE-01`, `UC-SEC-AUTH-RBAC-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。セキュリティ管理機能（アカウント管理、ポリシー設定等）画面が存在する。
- **メインフロー**:
  1. セキュリティ担当者が管理画面ログインページにアクセスする。
  2. 認証情報を入力する (MFA必須)。
  3. システムが認証・認可を行い、成功すればセキュリティ関連機能へのアクセスを許可する。
- **代替フロー**: 認証失敗。
- **オブザーバビリティポイント**: セキュリティ担当者のログイン試行ログ (`US-SEC-AUTH-AUDIT-01`)

##### 1.3.5.1.2. UC-SEC-AUTH-MANAGE-01: 管理者アカウント管理

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-MANAGE-01`
- **前提条件**: セキュリティ担当者がログイン済み (`UC-SEC-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. セキュリティ担当者が管理者アカウント管理画面にアクセスする。
  2. 新規アカウント作成、既存アカウントの有効化/無効化、パスワードリセット、ロール割り当て変更などの操作を行う。
  3. システムが変更を認証基盤 (Cognito等) に反映させる。
  4. 操作内容が監査ログに記録される (`UC-SEC-AUTH-AUDIT-01`)。
- **代替フロー**: アカウント削除時の確認。
- **オブザーバビリティポイント**: アカウント管理操作の監査ログ分析 (`US-SEC-AUTH-AUDIT-01`)

##### 1.3.5.1.3. UC-SEC-AUTH-RBAC-01: ロールと権限管理

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-RBAC-01`
- **前提条件**: セキュリティ担当者がログイン済み (`UC-SEC-AUTH-LOGIN-01`)。
- **メインフロー**:
  1. セキュリティ担当者がロール/権限管理画面にアクセスする。
  2. 新規ロールの作成、既存ロールへの権限（特定APIへのアクセス許可など）の割り当て・削除を行う。
  3. 各管理者アカウントに適切なロールを割り当てる (`UC-SEC-AUTH-MANAGE-01` と連携)。
  4. システムが変更を保存し、アクセス制御に反映させる。
  5. 変更内容が監査ログに記録される (`US-SEC-AUTH-AUDIT-01`)。
- **代替フロー**: 権限変更による影響範囲の確認。
- **オブザーバビリティポイント**: ロール・権限変更の監査ログ分析 (`US-SEC-AUTH-AUDIT-01`)

##### 1.3.5.1.4. UC-SEC-AUTH-MFA-01: 多要素認証(MFA)管理

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-MFA-01`
- **前提条件**: セキュリティ担当者がログイン済み (`UC-SEC-AUTH-LOGIN-01`)。認証基盤がMFAに対応している (`US-DEV-AUTH-IMPL-01`)。
- **メインフロー**:
  1. セキュリティ担当者が認証設定画面にアクセスする。
  2. MFAを必須化するポリシーを設定する（例: 全管理者アカウント、特定のロールなど）。
  3. (オプション) 利用可能なMFA要素（TOTPアプリ、SMSなど）を設定する。
  4. ユーザーがMFAデバイスを紛失した場合などに、一時的な無効化やリセットを行う (`UC-SEC-AUTH-MANAGE-01` の一部として)。
- **代替フロー**: なし。
- **オブザーバビリティポイント**: MFA有効化率、MFA認証成功/失敗ログ (`US-SEC-AUTH-AUDIT-01`)

##### 1.3.5.1.5. UC-SEC-AUTH-POLICY-01: セッション/パスワードポリシー設定

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-POLICY-01`
- **前提条件**: セキュリティ担当者がログイン済み (`UC-SEC-AUTH-LOGIN-01`)。認証基盤がポリシー設定に対応している (`US-DEV-AUTH-IMPL-01`)。
- **メインフロー**:
  1. セキュリティ担当者が認証/セキュリティポリシー設定画面にアクセスする。
  2. パスワードポリシー（最低文字数、必須文字種、有効期限、履歴保持数など）を設定する。
  3. セッションポリシー（アイドルタイムアウト時間、最大セッション時間など）を設定する。
  4. システムが設定を認証基盤に反映させる。
- **代替フロー**: なし。
- **オブザーバビリティポイント**: ポリシー設定変更の監査ログ (`US-SEC-AUTH-AUDIT-01`)。ポリシー違反によるログイン失敗やパスワードリセットの頻度 (`US-SEC-AUTH-AUDIT-01`)。

##### 1.3.5.1.6. UC-SEC-AUTH-AUDIT-01: 認証/認可監査

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-AUTH-AUDIT-01`
- **前提条件**: セキュリティ担当者がログイン済み (`UC-SEC-AUTH-LOGIN-01`)。認証・認可関連のログ（ログイン試行、成功/失敗、パスワード変更、権限変更、アカウント操作など）が収集されている (`UC-SEC-OBS-AUDIT-01` が前提)。
- **メインフロー**:
  1. セキュリティ担当者が監査ログ分析ツール（CloudWatch Logs Insights, SIEM等）にアクセスする。
  2. 特定の期間、ユーザー、IPアドレス、操作種別などでログを検索・フィルタリングする。
  3. 不審なアクティビティ（例: 短時間での大量ログイン失敗、通常と異なる時間/場所からのアクセス、特権操作の実行）がないか確認する。
  4. 定期的な監査レポートを作成する、またはダッシュボードで主要な傾向を監視する。
- **代替フロー**: 特定の不審パターンに対するアラートルールを設定する (`UC-SRE-OBS-ALERT-01` と連携)。
- **オブザーバビリティポイント**: 監査ログの完全性と検索性、不審アクティビティ検出の精度。

#### 1.3.5.2. オブザーバビリティ (`EP-CROSSCUTTING-OBS`)

##### 1.3.5.2.1. UC-SEC-OBS-AUDIT-01: セキュリティイベント監視/監査

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-OBS-AUDIT-01`
- **前提条件**: セキュリティ関連ログ（CloudTrail, VPC Flow Logs, GuardDuty Findings, アプリケーション監査ログ等）が収集・集約されている。分析ツールが利用可能。
- **メインフロー**:
  1. セキュリティ担当者がログ分析ツールやSIEM、Security Hubなどにアクセスする。
  2. 事前定義されたルールやクエリ、またはアドホックな検索により、セキュリティイベント（不正アクセス試行、設定変更、データアクセス、マルウェア検知など）を監視・分析する。
  3. イベントの相関分析を行い、インシデントの兆候や発生を検知する。
  4. 検知されたイベントやインシデントについて、詳細調査を行い、影響範囲や原因を特定する。
  5. 必要に応じてインシデント対応プロセスを開始する。
- **代替フロー**: GuardDutyなどの検知サービスからのアラートをトリガーとして調査を開始。
- **オブザーバビリティポイント**: セキュリティイベントの検出率と精度、調査に必要なログの網羅性、MTTD/MTTR。

##### 1.3.5.2.2. UC-SEC-COMPLIANCE-01: コンプライアンス監査自動化

- **アクター**: セキュリティ担当者 (高橋 恵)
- **関連ユーザーストーリー**: `US-SEC-COMPLIANCE-01`
- **前提条件**: 遵守すべきコンプライアンス基準（例: PCI DSS）が明確。AWS Config, Security Hubなどのコンプライアンスチェックツールが設定されている。
- **メインフロー**:
  1. セキュリティ担当者がAWS Config RulesやSecurity Hubのコンプライアンス標準などを設定し、基準に照らしてリソース設定やアクティビティログを自動的に評価させる。
  2. セキュリティ担当者が定期的に、またはオンデマンドでコンプライアンスダッシュボードを確認する。
  3. システムが自動評価結果（準拠/非準拠のリソース数、非準拠の詳細など）を表示する。
  4. セキュリティ担当者が非準拠項目を特定し、修正措置を計画・実行する。
  5. 監査レポートの生成や証跡の収集にこれらのツールを活用する。
- **代替フロー**: カスタム監査クエリをAthena等で定期実行する。
- **オブザーバビリティポイント**: コンプライアンスチェックの自動化率と網羅性、非準拠項目の検出と修正状況の追跡。

### 1.3.6. ビジネスアナリスト (`BA`) 向けユースケース詳細

#### 1.3.6.1. 認証 (`EP-CROSSCUTTING-AUTH`)

##### 1.3.6.1.1. UC-BA-AUTH-LOGIN-01: データ分析ツールログイン

- **アクター**: ビジネスアナリスト (伊藤 直樹)
- **関連ユーザーストーリー**: `US-BA-AUTH-LOGIN-01`
- **前提条件**: BAアカウントが作成され、データ分析ツールやデータソースへのアクセス権が付与されている (`UC-SEC-AUTH-MANAGE-01`, `UC-SEC-AUTH-RBAC-01`)。認証基盤 (`US-DEV-AUTH-IMPL-01`) がセットアップ済み。データ分析ツール（QuickSight等）が存在する。
- **メインフロー**:
  1. BAがデータ分析ツールのログインページにアクセスする。
  2. BAが認証情報を入力する。
  3. システムが認証・認可を行い、成功すればツールへのアクセスを許可する。
- **代替フロー**: 認証失敗。
- **オブザーバビリティポイント**: BAのログイン試行ログ (`US-SEC-AUTH-AUDIT-01`)。

#### 1.3.6.2. ビジネスインテリジェンス (`EP-BUSINESS-INTELLIGENCE`)

##### 1.3.6.2.1. UC-BA-BI-SALES-01: 売上・トラフィック分析

- **アクター**: ビジネスアナリスト (伊藤 直樹)
- **関連ユーザーストーリー**: `US-BA-BI-SALES-01`
- **前提条件**: BAがデータ分析ツールにログイン済み (`UC-BA-AUTH-LOGIN-01`)。分析対象となる売上データ、トラフィックデータ（Webサーバーログ、RUMデータなど）がデータウェアハウス(DWH)やデータレイクに集約・整理されている。
- **メインフロー**:
  1. BAがBIツール（QuickSight等）を使用し、DWH等に接続する。
  2. BAが分析したい期間、指標（売上、注文件数、PV、セッション数、コンバージョン率など）、分析軸（流入元チャネル、地域、時間帯、デバイスなど）を選択または指定する。
  3. BIツールがデータソースに対してクエリを実行し、結果を集計・可視化（グラフ、表）する。
  4. BAが可視化された結果を分析し、売上とトラフィックの相関、キャンペーン効果、コンバージョン経路などを特定する。
  5. 分析結果をレポートやダッシュボードにまとめ、関係者（マネージャー等）に共有する。
- **代替フロー**: SQL等で直接DWHにクエリを実行してデータを抽出・分析する。
- **オブザーバビリティポイント**:
  - 分析クエリの実行時間 (`US-SRE-OBS-TREND-01` のDB/DWH側)
  - BIツールの応答性 (`US-SRE-VIS-01` 関連)
  - 分析に必要なデータの可用性と品質

##### 1.3.6.2.2. UC-BA-BI-PROD-01: 商品パフォーマンス分析

- **アクター**: ビジネスアナリスト (伊藤 直樹)
- **関連ユーザーストーリー**: `US-BA-BI-PROD-01`
- **前提条件**: BAがデータ分析ツールにログイン済み (`UC-BA-AUTH-LOGIN-01`)。商品別販売データ（売上、数量、利益）、閲覧データ（PV、カート追加率など）が集約されている。
- **メインフロー**:
  1. BAがBIツールを使用し、商品パフォーマンス関連データにアクセスする。
  2. BAが分析したい指標（売上ランキング、利益率、カート追加率、在庫回転率など）と分析軸（カテゴリ、ブランド、期間など）を選択する。
  3. BIツールがデータを集計・可視化する。
  4. BAが結果を分析し、人気商品、不振商品、価格弾力性、関連購買などを特定する。
  5. 分析結果に基づき、マーチャンダイジングや在庫戦略に関するインサイトをレポートする。
- **代替フロー**: 特定商品の深掘り分析（レビューとの相関など）。
- **オブザーバビリティポイント**:
  - 分析クエリの実行時間 (`US-SRE-OBS-TREND-01` のDB/DWH側)
  - BIツールの応答性 (`US-SRE-VIS-01` 関連)
  - 商品ごとの詳細データの利用可能性
