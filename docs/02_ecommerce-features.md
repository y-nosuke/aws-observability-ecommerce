# AWSオブザーバビリティ学習用eコマースアプリ - 機能

## 顧客向け機能

1. **商品管理**
   - 商品一覧・詳細表示
   - カテゴリー別表示
   - 商品検索
   - 商品レビュー

2. **ショッピング体験**
   - カート機能
   - 注文処理
   - 支払い処理（模擬）
   - 注文履歴・トラッキング

3. **ユーザー管理**
   - 会員登録・ログイン
   - プロフィール管理
   - お届け先住所管理

4. **通知**
   - 注文確認メール
   - 出荷通知
   - 在庫状況通知

## 管理者向け機能

1. **在庫管理**
   - 在庫レベル監視
   - 在庫不足アラート
   - 在庫更新

2. **オーダー管理**
   - 注文確認・処理
   - 出荷管理

## オブザーバビリティに関する学習ポイント

### メトリクス

- **基本メトリクス**
  - リクエスト数、レイテンシー、エラー率の測定
  - CPU/メモリ使用率、ディスクI/O、ネットワークスループット
  - レスポンスタイム分布（p50, p90, p95, p99）
- **サービス固有のカスタムメトリクス**
  - サービスの状態を示す指標
  - 処理キューの長さ
  - キャッシュヒット率
- **ビジネスメトリクス**
  - 商品閲覧数、カート追加率、コンバージョン率
  - カテゴリ別のアクセス率
  - ユーザーセッション長
  - 注文完了までの平均時間
- **データベースパフォーマンスメトリクス**
  - クエリ実行時間
  - インデックス使用率
  - コネクションプール使用状況
  - スロークエリの頻度

### ログ

- **構造化ログの設計と実装**
  - JSON形式での統一的なログ形式
  - 標準フィールド（タイムスタンプ、ログレベル、サービス名）
  - コンテキスト固有フィールド（リクエストID、ユーザーID）
- **ログレベルの適切な使い分け**
  - ERROR: 即時対応が必要な問題
  - WARN: 潜在的な問題や注意が必要な状況
  - INFO: 通常操作の記録
  - DEBUG: 詳細なトラブルシューティング情報
- **トレースIDとの連携**
  - ログエントリへのトレースIDの付与
  - サービス間で伝播される統一トレースID
- **ログ集約と分析**
  - CloudWatch Logs Insightsによるクエリと分析
  - ログベースのアラート設定
  - 複数サービスのログの相関分析

### トレース

- **分散トレースの基本概念**
  - スパンとトレースの違い
  - 親子関係の表現
  - メタデータとアノテーション
- **X-Ray SDKの統合**
  - 自動インストルメンテーション
  - カスタムサブセグメントの追加
  - サンプリングルールの設定
- **トレースデータの活用**
  - サービスマップの生成と分析
  - ボトルネックの特定
  - エラー発生箇所の特定
  - レイテンシの内訳分析
- **高度なトレース活用**
  - クリティカルパスの特定と最適化
  - トレースベースのアラート
  - ビジネスコンテキストの付与

### アラート

- **効果的なアラート戦略**
  - シンプトムベースのアラート設計
  - 適切な閾値の設定と調整
  - フォールスポジティブの最小化
- **異常検出ベースのアラート**
  - 動的ベースラインの利用
  - 季節変動パターンの学習
  - 複合メトリクスの異常検出
- **アラートの優先順位付け**
  - 重要度による分類（P1〜P4）
  - ビジネスインパクトに基づく優先順位
  - ページング対象と非ページング対象の区別
- **インシデント対応プロセス**
  - エスカレーションパス
  - オンコール対応フロー
  - ポストモーテムプロセス
  - 再発防止策の実装追跡