# 1. AWSオブザーバビリティ学習用eコマースアプリ - 機能一覧

このドキュメントでは、AWSオブザーバビリティ学習用eコマースアプリのMVPと完成版の機能を比較します。各機能のカテゴリごとに、実装状況や詳細を表形式で示します。

## 1.1. 目次

- [1. AWSオブザーバビリティ学習用eコマースアプリ - 機能一覧](#1-awsオブザーバビリティ学習用eコマースアプリ---機能一覧)
  - [1.1. 目次](#11-目次)
  - [1.2. 顧客向け機能](#12-顧客向け機能)
    - [1.2.1. 商品管理機能](#121-商品管理機能)
    - [1.2.2. ショッピング体験機能](#122-ショッピング体験機能)
    - [1.2.3. ユーザー管理機能](#123-ユーザー管理機能)
    - [1.2.4. 通知機能](#124-通知機能)
  - [1.3. 管理者向け機能](#13-管理者向け機能)
    - [1.3.1. 在庫管理](#131-在庫管理)
    - [1.3.2. 商品管理](#132-商品管理)
    - [1.3.3. オーダー管理](#133-オーダー管理)
    - [1.3.4. バッチ処理](#134-バッチ処理)
  - [1.4. オブザーバビリティ機能](#14-オブザーバビリティ機能)
    - [1.4.1. ログ関連機能](#141-ログ関連機能)
    - [1.4.2. メトリクス収集機能](#142-メトリクス収集機能)
    - [1.4.3. トレース機能](#143-トレース機能)
    - [1.4.4. アラートと可視化機能](#144-アラートと可視化機能)
    - [1.4.5. 相関・連携機能](#145-相関連携機能)
    - [1.4.6. Lambda固有機能](#146-lambda固有機能)
    - [1.4.7. インフラストラクチャ機能](#147-インフラストラクチャ機能)
    - [1.4.8. RUMと合成監視](#148-rumと合成監視)
    - [1.4.9. 耐障害性とカオスエンジニアリング](#149-耐障害性とカオスエンジニアリング)
    - [1.4.10. セキュリティとコンプライアンス](#1410-セキュリティとコンプライアンス)
  - [1.5. MVPと完成版の主な違い](#15-mvpと完成版の主な違い)

## 1.2. 顧客向け機能

### 1.2.1. 商品管理機能

| 機能ID          | 機能名           | MVP | 完成版 | 説明                                       |
| --------------- | ---------------- | --- | ------ | ------------------------------------------ |
| **C-BROWSE-01** | 商品一覧表示     | ✅   | ✅      | ユーザーが閲覧可能な商品リストの表示       |
| **C-BROWSE-02** | 商品詳細表示     | ✅   | ✅      | 個別商品の詳細情報と画像の表示             |
| **C-BROWSE-03** | カテゴリー別表示 | ✅   | ✅      | カテゴリーに基づいた商品の分類と表示       |
| **C-BROWSE-04** | 商品検索         | ❌   | ✅      | 検索クエリによる商品の検索機能             |
| **C-BROWSE-05** | 絞り込み検索     | ❌   | ✅      | 価格帯や属性による商品の絞り込み           |
| **C-BROWSE-06** | 関連商品表示     | ❌   | ✅      | 閲覧中の商品に関連する商品の表示           |
| **C-BROWSE-07** | 在庫状況表示     | ✅   | ✅      | 商品の在庫状況と在庫不足の表示             |
| **C-BROWSE-08** | 商品レビュー     | ❌   | ✅      | 他のユーザーによる商品レビューの表示と投稿 |

### 1.2.2. ショッピング体験機能

| 機能ID        | 機能名           | MVP                        | 完成版 | 説明                                       |
| ------------- | ---------------- | -------------------------- | ------ | ------------------------------------------ |
| **C-SHOP-01** | カート機能       | ✅ (クライアントサイドのみ) | ✅      | 商品の追加/削除とカート内容表示            |
| **C-SHOP-02** | 注文処理         | ✅ (シンプルな実装)         | ✅      | カートからチェックアウトと注文確定プロセス |
| **C-SHOP-03** | 支払い処理       | ❌                          | ✅      | 複数の支払い方法と処理（模擬機能）         |
| **C-SHOP-04** | 注文履歴         | ❌                          | ✅      | ユーザーの過去の注文履歴表示               |
| **C-SHOP-05** | 注文トラッキング | ❌                          | ✅      | 注文状況の追跡と配送ステータス確認         |
| **C-SHOP-06** | 割引クーポン     | ❌                          | ✅      | クーポンコードによる割引適用               |

### 1.2.3. ユーザー管理機能

| 機能ID        | 機能名             | MVP | 完成版 | 説明                                 |
| ------------- | ------------------ | --- | ------ | ------------------------------------ |
| **C-USER-01** | 会員登録           | ❌   | ✅      | ユーザーアカウント作成               |
| **C-USER-02** | ログイン           | ❌   | ✅      | 登録ユーザーの認証                   |
| **C-USER-03** | プロフィール管理   | ❌   | ✅      | ユーザー情報の表示と編集             |
| **C-USER-04** | お届け先住所管理   | ❌   | ✅      | 複数配送先の管理                     |
| **C-USER-05** | ソーシャルログイン | ❌   | ✅      | OAuth/OIDCによる外部サービス連携認証 |

### 1.2.4. 通知機能

| 機能ID         | 機能名         | MVP | 完成版 | 説明                       |
| -------------- | -------------- | --- | ------ | -------------------------- |
| **C-NOTIF-01** | 注文確認メール | ❌   | ✅      | 注文完了時の確認メール送信 |
| **C-NOTIF-02** | 出荷通知       | ❌   | ✅      | 商品出荷時の通知メール     |
| **C-NOTIF-03** | 在庫状況通知   | ❌   | ✅      | 在庫切れ商品の入荷通知     |
| **C-NOTIF-04** | セール通知     | ❌   | ✅      | 特別セールや割引の通知     |

## 1.3. 管理者向け機能

### 1.3.1. 在庫管理

| 機能ID       | 機能名           | MVP | 完成版 | 説明                                 |
| ------------ | ---------------- | --- | ------ | ------------------------------------ |
| **A-INV-01** | 在庫レベル監視   | ✅   | ✅      | 全商品の在庫状況の監視と基本的な表示 |
| **A-INV-02** | 在庫不足アラート | ❌   | ✅      | 在庫が閾値を下回った際の通知         |
| **A-INV-03** | 在庫更新         | ✅   | ✅      | 在庫数の手動更新機能                 |
| **A-INV-04** | 在庫履歴         | ❌   | ✅      | 在庫変動の履歴表示                   |
| **A-INV-05** | 在庫予測         | ❌   | ✅      | 過去のデータに基づく在庫予測         |

### 1.3.2. 商品管理

| 機能ID        | 機能名         | MVP              | 完成版 | 説明                                         |
| ------------- | -------------- | ---------------- | ------ | -------------------------------------------- |
| **A-PROD-01** | 商品情報管理   | ✅                | ✅      | 商品データの基本的な管理（CRUD操作）         |
| **A-PROD-02** | 商品登録機能   | ✅                | ✅      | 管理者による新規商品の登録と情報入力         |
| **A-PROD-03** | 商品一括管理   | ❌                | ✅      | 複数商品の一括編集/更新                      |
| **A-PROD-04** | カテゴリー管理 | ❌                | ✅      | 商品カテゴリーの作成/編集/削除               |
| **A-PROD-05** | 商品画像処理   | ✅ (サーバーレス) | ✅      | アップロードされた商品画像の自動リサイズ処理 |

### 1.3.3. オーダー管理

| 機能ID         | 機能名         | MVP | 完成版 | 説明                           |
| -------------- | -------------- | --- | ------ | ------------------------------ |
| **A-ORDER-01** | 注文確認処理   | ❌   | ✅      | 新規注文の確認と処理           |
| **A-ORDER-02** | 出荷管理       | ❌   | ✅      | 商品の出荷処理と追跡情報管理   |
| **A-ORDER-03** | 返品・交換処理 | ❌   | ✅      | 返品および交換リクエストの管理 |
| **A-ORDER-04** | 売上レポート   | ❌   | ✅      | 売上データの集計と分析         |

### 1.3.4. バッチ処理

| 機能ID         | 機能名             | MVP          | 完成版 | 説明                                   |
| -------------- | ------------------ | ------------ | ------ | -------------------------------------- |
| **A-BATCH-01** | 在庫レポート生成   | ✅ (シンプル) | ✅      | 日次の在庫状況レポートの自動生成と配信 |
| **A-BATCH-02** | データエクスポート | ❌            | ✅      | 各種データの定期的なエクスポート       |
| **A-BATCH-03** | 定期メンテナンス   | ❌            | ✅      | 定期的なシステムメンテナンスタスク     |

## 1.4. オブザーバビリティ機能

### 1.4.1. ログ関連機能

| 機能ID       | 機能名                         | MVP | 完成版 | 説明                                           |
| ------------ | ------------------------------ | --- | ------ | ---------------------------------------------- |
| **O-LOG-01** | 構造化ログ設定                 | ✅   | ✅      | JSON形式での統一的なログ形式実装と収集         |
| **O-LOG-02** | ログレベル管理                 | ✅   | ✅      | ERROR/WARN/INFO/DEBUGの適切な使い分け          |
| **O-LOG-03** | CloudWatch Logsへのログ転送    | ✅   | ✅      | LocalStackを使用した開発環境でのログ転送設定   |
| **O-LOG-04** | コンテキスト情報付与           | ✅   | ✅      | リクエストID、ユーザーIDなどの情報をログに追加 |
| **O-LOG-05** | CloudWatch Logs Insightsクエリ | ✅   | ✅      | ログデータの効率的な検索と分析用クエリの作成   |
| **O-LOG-06** | 本番環境ログ設定               | ❌   | ✅      | 本番環境でのCloudWatch Logs設定と最適化        |

### 1.4.2. メトリクス収集機能

| 機能ID          | 機能名                        | MVP | 完成版 | 説明                                                        |
| --------------- | ----------------------------- | --- | ------ | ----------------------------------------------------------- |
| **O-METRIC-01** | 基本メトリクス収集            | ✅   | ✅      | リクエスト数、レイテンシー、エラー率の測定                  |
| **O-METRIC-02** | インフラメトリクス収集        | ✅   | ✅      | CPU/メモリ使用率、ディスクI/O、ネットワークスループット計測 |
| **O-METRIC-03** | レスポンスタイム分布測定      | ✅   | ✅      | p50, p90, p95, p99パーセンタイルの計測                      |
| **O-METRIC-04** | ビジネスメトリクス収集        | ✅   | ✅      | 閲覧数、購入数など業務関連指標の収集                        |
| **O-METRIC-05** | CloudWatch Custom Metrics連携 | ✅   | ✅      | カスタムメトリクスのCloudWatchへの送信                      |
| **O-METRIC-06** | ビジネスメトリクスの拡張      | ❌   | ✅      | 高度なビジネス指標の追加と可視化                            |
| **O-METRIC-07** | メトリクスサービス実装        | ❌   | ✅      | 独立したメトリクス収集・管理サービス                        |
| **O-METRIC-08** | フロントエンドユーザー体験    | ❌   | ✅      | フロントエンドのユーザー体験に関わるメトリクス              |
| **O-METRIC-09** | フロントエンドパフォーマンス  | ❌   | ✅      | フロントエンドの応答性能に関わるメトリクス                  |
| **O-METRIC-10** | 管理アクションのメトリクス    | ❌   | ✅      | 管理操作の頻度や種類の計測                                  |
| **O-METRIC-11** | リソース使用状況モニタリング  | ❌   | ✅      | サーバーやDBのリソース使用状況の監視                        |

### 1.4.3. トレース機能

| 機能ID         | 機能名                       | MVP | 完成版 | 説明                                              |
| -------------- | ---------------------------- | --- | ------ | ------------------------------------------------- |
| **O-TRACE-01** | X-Ray基本統合                | ✅   | ✅      | AWS X-Rayによる基本的な分散トレース実装           |
| **O-TRACE-02** | Echo/sqlboiler統合           | ✅   | ✅      | ウェブフレームワークとORMへのトレース統合         |
| **O-TRACE-03** | トレースフィルタリング       | ✅   | ✅      | 特定のリクエストやエラーケースを効率的に検索      |
| **O-TRACE-04** | 管理操作カスタムトレース     | ❌   | ✅      | 管理機能に特化したカスタムトレースの実装          |
| **O-TRACE-05** | アップロード進捗トラッキング | ❌   | ✅      | ファイルアップロード処理の進捗トラッキング        |
| **O-TRACE-06** | 本番環境X-Ray設定            | ❌   | ✅      | 本番環境でのX-Ray設定とサンプリングレートの最適化 |

### 1.4.4. アラートと可視化機能

| 機能ID         | 機能名                       | MVP | 完成版 | 説明                                      |
| -------------- | ---------------------------- | --- | ------ | ----------------------------------------- |
| **O-ALERT-01** | ヘルスチェックエンドポイント | ✅   | ✅      | サービス稼働状況確認用APIエンドポイント   |
| **O-ALERT-02** | 基本アラート設定             | ✅   | ✅      | エラー率や異常なレイテンシーの検出と通知  |
| **O-ALERT-03** | アラートとSNS通知            | ❌   | ✅      | アラート発生時のSNSを使った通知設定       |
| **O-ALERT-04** | 障害検出とアラート検証       | ❌   | ✅      | 障害シナリオにおけるアラート動作の検証    |
| **O-DASH-01**  | X-Rayダッシュボード          | ✅   | ✅      | X-Rayの分析データを活用したダッシュボード |
| **O-DASH-02**  | サービスマップ強化           | ✅   | ✅      | サービス間依存関係の詳細な可視化          |
| **O-DASH-03**  | REDダッシュボード            | ✅   | ✅      | Rate, Error, Duration指標のダッシュボード |
| **O-DASH-04**  | カスタムダッシュボード       | ✅   | ✅      | 目的別にカスタマイズしたダッシュボード    |

### 1.4.5. 相関・連携機能

| 機能ID        | 機能名                           | MVP      | 完成版   | 説明                                       |
| ------------- | -------------------------------- | -------- | -------- | ------------------------------------------ |
| **O-CORR-01** | 観測データの相関付け             | ✅ (基本) | ✅ (高度) | ログ、メトリクス、トレースの相関関係表示   |
| **O-COMP-01** | オブザーバビリティアプローチ比較 | ✅ (基礎) | ✅ (詳細) | AWS SDK v2とOpenTelemetryの実装比較と評価  |
| **O-COST-01** | コスト最適化                     | ❌        | ✅        | オブザーバビリティ関連コストの分析と最適化 |

### 1.4.6. Lambda固有機能

| 機能ID          | 機能名               | MVP | 完成版 | 説明                                 |
| --------------- | -------------------- | --- | ------ | ------------------------------------ |
| **O-LAMBDA-01** | Lambda実行ログ構造化 | ✅   | ✅      | Lambda関数の構造化されたログ出力     |
| **O-LAMBDA-02** | Lambda固有メトリクス | ✅   | ✅      | Lambda関数の実行時間、使用メモリなど |

### 1.4.7. インフラストラクチャ機能

| 機能ID         | 機能名                         | MVP | 完成版 | 説明                                              |
| -------------- | ------------------------------ | --- | ------ | ------------------------------------------------- |
| **O-INFRA-01** | オブザーバビリティインフラ構築 | ❌   | ✅      | Terraform定義に組み込まれたオブザーバビリティ設定 |

### 1.4.8. RUMと合成監視

| 機能ID         | 機能名                       | MVP | 完成版 | 説明                                     |
| -------------- | ---------------------------- | --- | ------ | ---------------------------------------- |
| **O-RUM-01**   | CloudWatch RUM設定           | ❌   | ✅      | 実ユーザーモニタリングの設定と分析       |
| **O-SYNTH-01** | CloudWatch Synthetics設定    | ❌   | ✅      | 合成モニタリングによるユーザーフロー検証 |
| **O-FRONT-01** | フロントエンド状態管理の観測 | ❌   | ✅      | フロントエンドのステート変化の監視       |
| **O-UX-01**    | ユーザー体験の総合的な観測   | ❌   | ✅      | ユーザー体験に関する複合的なモニタリング |

### 1.4.9. 耐障害性とカオスエンジニアリング

| 機能ID         | 機能名                      | MVP | 完成版 | 説明                                     |
| -------------- | --------------------------- | --- | ------ | ---------------------------------------- |
| **O-FAULT-01** | Fault Injection Service設定 | ❌   | ✅      | 故障注入サービスの基本設定               |
| **O-FAULT-02** | 高度な障害シナリオ          | ❌   | ✅      | 複合的な障害シナリオの設計と実行         |
| **O-CHAOS-01** | カオスエンジニアリング実験  | ❌   | ✅      | 制御された環境でのシステム耐障害性テスト |
| **O-ERROR-01** | エラー処理と回復メカニズム  | ❌   | ✅      | エラー発生時の自動回復と監視             |

### 1.4.10. セキュリティとコンプライアンス

| 機能ID         | 機能名                         | MVP | 完成版 | 説明                                     |
| -------------- | ------------------------------ | --- | ------ | ---------------------------------------- |
| **O-SEC-01**   | 認証セキュリティモニタリング   | ❌   | ✅      | 認証プロセスのセキュリティ監視基盤       |
| **O-SEC-02**   | セキュリティイベントの検出     | ❌   | ✅      | 不審なアクセスや攻撃パターンの検出と対応 |
| **O-SEC-03**   | 管理者セキュリティモニタリング | ❌   | ✅      | 特権アクセスの監視と異常検出             |
| **O-AUDIT-01** | 監査ログシステム               | ❌   | ✅      | 監査目的の操作ログ記録と分析             |

## 1.5. MVPと完成版の主な違い

1. **顧客向け機能**:
   - MVPでは商品閲覧とシンプルなカート機能に焦点
   - 完成版では認証、会員管理、通知などの機能が追加され、フルeコマース体験が実現

2. **管理者機能**:
   - MVPでは基本的な商品と在庫の管理に限定
   - 完成版では高度な在庫管理、注文処理、レポート機能などが追加

3. **オブザーバビリティ**:
   - MVPでは基本的なログ、メトリクス、トレースの実装
   - 完成版では高度なRUM、Synthetics、セキュリティモニタリング、カオスエンジニアリングなどが追加
   - MVPでもオブザーバビリティの3本柱（ログ、メトリクス、トレース）の基本は実装されている

4. **機能の統合度**:
   - MVPでは機能が独立しており相互連携は限定的
   - 完成版では機能間の連携が強化され、イベント駆動型のアーキテクチャが実現
