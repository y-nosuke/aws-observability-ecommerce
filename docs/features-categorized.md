# 1. AWSオブザーバビリティ学習用eコマースアプリ - 分類別機能一覧

- [1. AWSオブザーバビリティ学習用eコマースアプリ - 分類別機能一覧](#1-awsオブザーバビリティ学習用eコマースアプリ---分類別機能一覧)
  - [1.1. 顧客向け機能](#11-顧客向け機能)
    - [1.1.1. 商品閲覧・検索](#111-商品閲覧検索)
    - [1.1.2. ショッピングとチェックアウト](#112-ショッピングとチェックアウト)
    - [1.1.3. ユーザー管理](#113-ユーザー管理)
    - [1.1.4. 通知機能](#114-通知機能)
  - [1.2. 管理者向け機能](#12-管理者向け機能)
    - [1.2.1. 商品管理](#121-商品管理)
    - [1.2.2. 在庫管理](#122-在庫管理)
    - [1.2.3. 注文・出荷管理](#123-注文出荷管理)
    - [1.2.4. ユーザー管理](#124-ユーザー管理)
    - [1.2.5. 通知送信](#125-通知送信)
  - [1.3. オブザーバビリティ機能](#13-オブザーバビリティ機能)
    - [1.3.1. ログ関連](#131-ログ関連)
    - [1.3.2. メトリクス収集](#132-メトリクス収集)
    - [1.3.3. 分散トレース](#133-分散トレース)
    - [1.3.4. 合成モニタリング・RUM](#134-合成モニタリングrum)
    - [1.3.5. 異常検出・アラート](#135-異常検出アラート)
    - [1.3.6. 可視化・ダッシュボード](#136-可視化ダッシュボード)
    - [1.3.7. 耐障害性・ガバナンス](#137-耐障害性ガバナンス)
    - [1.3.8. インシデント対応・継続的改善](#138-インシデント対応継続的改善)
  - [1.4. 期待される成果物](#14-期待される成果物)

## 1.1. 顧客向け機能

### 1.1.1. 商品閲覧・検索

| 機能ID          | 機能名             | 概要                                       |
| --------------- | ------------------ | ------------------------------------------ |
| **C-BROWSE-01** | 商品一覧表示       | ユーザーが閲覧可能な商品リストの表示       |
| **C-BROWSE-02** | 商品詳細表示       | 個別商品の詳細情報と画像の表示             |
| **C-BROWSE-03** | カテゴリー別表示   | カテゴリーに基づいた商品の分類と表示       |
| **C-BROWSE-04** | 商品検索           | キーワードによる商品検索と結果表示         |
| **C-BROWSE-05** | 商品レビュー       | ユーザーによる商品評価とレビュー投稿・閲覧 |
| **C-BROWSE-06** | 人気商品ランキング | 閲覧数・購入数に基づく人気商品の表示       |
| **C-BROWSE-07** | 在庫状況表示       | 商品の在庫状況と在庫不足の表示             |

### 1.1.2. ショッピングとチェックアウト

| 機能ID        | 機能名                 | 概要                                       |
| ------------- | ---------------------- | ------------------------------------------ |
| **C-SHOP-01** | カート機能             | 商品の追加/削除とカート内容表示            |
| **C-SHOP-02** | 注文処理               | カートからチェックアウトと注文確定プロセス |
| **C-SHOP-03** | 支払い処理（模擬）     | 支払い方法選択と支払いプロセスの模擬実装   |
| **C-SHOP-04** | 注文履歴・トラッキング | 過去の注文内容と配送状況の追跡             |

### 1.1.3. ユーザー管理

| 機能ID        | 機能名             | 概要                                          |
| ------------- | ------------------ | --------------------------------------------- |
| **C-USER-01** | 会員登録・ログイン | ユーザーアカウント作成とJWT認証によるログイン |
| **C-USER-02** | プロフィール管理   | ユーザープロフィール情報の表示と編集          |
| **C-USER-03** | お届け先住所管理   | 配送先住所の登録・編集・選択                  |
| **C-USER-04** | 退会処理           | ユーザーアカウントの削除とデータの取り扱い    |

### 1.1.4. 通知機能

| 機能ID          | 機能名             | 概要                           |
| --------------- | ------------------ | ------------------------------ |
| **C-NOTIFY-01** | 通知設定           | メール通知の設定と管理         |
| **C-NOTIFY-02** | 注文確認メール受信 | 注文完了時の自動確認メール受信 |
| **C-NOTIFY-03** | 出荷通知受信       | 商品出荷時の自動通知メール受信 |
| **C-NOTIFY-04** | 在庫状況通知受信   | 在庫切れ商品の入荷時通知受信   |

## 1.2. 管理者向け機能

### 1.2.1. 商品管理

| 機能ID        | 機能名           | 概要                                            |
| ------------- | ---------------- | ----------------------------------------------- |
| **A-PROD-01** | 商品情報管理     | RDS (Aurora) を使用した商品データの基本的な管理 |
| **A-PROD-02** | 商品登録機能     | 管理者による新規商品の登録と情報入力            |
| **A-PROD-03** | 商品一括管理     | 複数商品の一括登録・更新・削除機能              |
| **A-PROD-04** | 商品カテゴリ管理 | 商品カテゴリの作成・編集・階層管理              |

### 1.2.2. 在庫管理

| 機能ID       | 機能名           | 概要                                       |
| ------------ | ---------------- | ------------------------------------------ |
| **A-INV-01** | 在庫レベル監視   | 全商品の在庫状況の監視とダッシュボード表示 |
| **A-INV-02** | 在庫不足アラート | 設定済みしきい値を下回る在庫のアラート通知 |
| **A-INV-03** | 在庫更新         | 在庫数の手動・自動更新機能                 |

### 1.2.3. 注文・出荷管理

| 機能ID         | 機能名         | 概要                               |
| -------------- | -------------- | ---------------------------------- |
| **A-ORDER-01** | 注文確認・処理 | 新規注文の確認と処理ステータス管理 |
| **A-ORDER-02** | 出荷管理       | 出荷情報の登録と出荷ステータス管理 |

### 1.2.4. ユーザー管理

| 機能ID        | 機能名           | 概要                                 |
| ------------- | ---------------- | ------------------------------------ |
| **A-USER-01** | ユーザー情報管理 | 管理者によるユーザー情報の閲覧・編集 |
| **A-USER-02** | 退会ユーザー復帰 | 退会済みユーザーのアカウント復元処理 |

### 1.2.5. 通知送信

| 機能ID          | 機能名             | 概要                                                    |
| --------------- | ------------------ | ------------------------------------------------------- |
| **A-NOTIFY-01** | 非同期通知         | メール通知(SQS + Go Lambda + SES)とイベント駆動アラート |
| **A-NOTIFY-02** | 注文確認メール送信 | 注文完了時の自動確認メール送信                          |
| **A-NOTIFY-03** | 出荷通知送信       | 商品出荷時の自動通知メール送信                          |
| **A-NOTIFY-04** | 在庫状況通知送信   | 在庫切れ商品の入荷時通知送信                            |

## 1.3. オブザーバビリティ機能

### 1.3.1. ログ関連

| 機能ID       | 機能名               | 概要                                               | 対応するAWSサービス      |
| ------------ | -------------------- | -------------------------------------------------- | ------------------------ |
| **O-LOG-01** | 構造化ログ収集       | JSON形式での統一的なログ形式実装と収集             | CloudWatch Logs          |
| **O-LOG-02** | ログレベル管理       | ERROR/WARN/INFO/DEBUGの適切な使い分け              | CloudWatch Logs          |
| **O-LOG-03** | コンテキスト情報付与 | リクエストID、ユーザーIDなどのコンテキスト情報追加 | CloudWatch Logs          |
| **O-LOG-04** | トレースID連携       | ログエントリへのトレースID付与とサービス間伝播     | CloudWatch Logs, X-Ray   |
| **O-LOG-05** | ログ集約・分析       | CloudWatch Logs Insightsによるクエリと分析         | CloudWatch Logs Insights |

### 1.3.2. メトリクス収集

| 機能ID          | 機能名                   | 概要                                                        | 対応するAWSサービス                          |
| --------------- | ------------------------ | ----------------------------------------------------------- | -------------------------------------------- |
| **O-METRIC-01** | 基本メトリクス収集       | リクエスト数、レイテンシー、エラー率の測定                  | CloudWatch Metrics                           |
| **O-METRIC-02** | インフラメトリクス収集   | CPU/メモリ使用率、ディスクI/O、ネットワークスループット計測 | CloudWatch Metrics                           |
| **O-METRIC-03** | レスポンスタイム分布測定 | p50, p90, p95, p99パーセンタイルの計測                      | CloudWatch Metrics                           |
| **O-METRIC-04** | カスタムメトリクス実装   | サービス固有の状態指標と処理キュー長の監視                  | CloudWatch Metrics                           |
| **O-METRIC-05** | ビジネスメトリクス収集   | 閲覧数、コンバージョン率、セッション長などの計測            | CloudWatch Metrics, EventBridge              |
| **O-METRIC-06** | DBパフォーマンス監視     | クエリ実行時間、コネクションプール、スロークエリの監視      | RDS Performance Insights, CloudWatch Metrics |
| **O-METRIC-07** | 高精度メトリクス収集     | Prometheusによる秒単位の高解像度メトリクス収集              | Amazon Managed Service for Prometheus (AMP)  |

### 1.3.3. 分散トレース

| 機能ID         | 機能名             | 概要                                                     | 対応するAWSサービス    |
| -------------- | ------------------ | -------------------------------------------------------- | ---------------------- |
| **O-TRACE-01** | 分散トレース実装   | リクエスト追跡、RDSクエリトレース、サービスマップ生成    | AWS X-Ray              |
| **O-TRACE-02** | X-Ray SDK統合      | 自動インストルメンテーションとカスタムサブセグメント追加 | AWS X-Ray              |
| **O-TRACE-03** | トレースデータ活用 | ボトルネック特定、エラー発生箇所特定、レイテンシ分析     | AWS X-Ray              |
| **O-TRACE-04** | イベント記録       | 商品閲覧イベントと在庫変動イベントの記録                 | EventBridge, AWS X-Ray |

### 1.3.4. 合成モニタリング・RUM

| 機能ID         | 機能名                     | 概要                                                     | 対応するAWSサービス   |
| -------------- | -------------------------- | -------------------------------------------------------- | --------------------- |
| **O-SYNTH-01** | 合成モニタリング           | カナリアテストによる主要ユーザーフローの定期監視         | CloudWatch Synthetics |
| **O-SYNTH-02** | APIテスト自動化            | 主要APIエンドポイントの自動テスト実行                    | CloudWatch Synthetics |
| **O-SYNTH-03** | スクリーンショット検証     | ユーザーフローごとのスクリーンショット取得と検証         | CloudWatch Synthetics |
| **O-RUM-01**   | リアルユーザーモニタリング | クライアントサイドパフォーマンスとユーザーセッション追跡 | CloudWatch RUM        |
| **O-RUM-02**   | Web Vitals測定             | FCP、LCP、CLSなどのWeb Vitals指標の測定                  | CloudWatch RUM        |
| **O-RUM-03**   | フロントエンドエラー収集   | JavaScriptエラーの捕捉とUI応答時間の測定                 | CloudWatch RUM        |

### 1.3.5. 異常検出・アラート

| 機能ID         | 機能名                 | 概要                                                         | 対応するAWSサービス                      |
| -------------- | ---------------------- | ------------------------------------------------------------ | ---------------------------------------- |
| **O-ALERT-01** | ヘルスチェック         | エンドポイント提供と依存サービス(RDS Aurora)接続確認         | CloudWatch, Route 53 Health Checks       |
| **O-ALERT-02** | 異常検出実装           | 動的ベースラインと季節変動パターン学習による異常検出         | CloudWatch Anomaly Detection             |
| **O-ALERT-03** | プロアクティブアラート | ベースラインからの逸脱検出と事前対応                         | CloudWatch Alarms, SNS                   |
| **O-ALERT-04** | ML駆動問題検出         | DevOps Guruによる運用メトリクスの自動分析と潜在問題検知      | Amazon DevOps Guru                       |
| **O-ALERT-05** | 根本原因分析自動化     | 関連リソースとイベントの相関によるトラブルシューティング短縮 | Amazon DevOps Guru, CloudWatch           |
| **O-ALERT-06** | シナリオベースアラート | 複合条件に基づく高度なアラート設定                           | CloudWatch Composite Alarms, EventBridge |

### 1.3.6. 可視化・ダッシュボード

| 機能ID        | 機能名                | 概要                                               | 対応するAWSサービス                      |
| ------------- | --------------------- | -------------------------------------------------- | ---------------------------------------- |
| **O-DASH-01** | 基本ダッシュボード    | API利用状況、エラー率、レスポンスタイムの可視化    | CloudWatch Dashboards                    |
| **O-DASH-02** | Grafanaダッシュボード | 統合可視化ダッシュボードの作成と管理               | Amazon Managed Grafana (AMG)             |
| **O-DASH-03** | 大規模ログ検索分析    | OpenSearch ServiceとAthenaによる高度なログ分析     | Amazon OpenSearch Service, Amazon Athena |
| **O-DASH-04** | カスタム分析レポート  | 大規模データに対するアドホッククエリとレポート生成 | Amazon Athena, QuickSight                |

### 1.3.7. 耐障害性・ガバナンス

| 機能ID         | 機能名                       | 概要                                                     | 対応するAWSサービス                     |
| -------------- | ---------------------------- | -------------------------------------------------------- | --------------------------------------- |
| **O-RESIL-01** | API監査と追跡                | CloudTrailによるAPI呼び出しと変更履歴の記録              | AWS CloudTrail                          |
| **O-RESIL-02** | インフラ構成変更追跡         | AWS Configによる設定変更の履歴管理                       | AWS Config                              |
| **O-RESIL-03** | 耐障害性テスト               | Fault Injection Serviceによるカオスエンジニアリング実験  | AWS Fault Injection Service             |
| **O-RESIL-04** | 障害シナリオシミュレーション | DB接続エラー、ネットワーク遅延などの障害シミュレーション | AWS Fault Injection Service             |
| **O-RESIL-05** | 復旧検証                     | 自動復旧メカニズムとフォールバック戦略の検証             | AWS Fault Injection Service, CloudWatch |
| **O-RESIL-06** | サービスヘルス監視           | AWS Health Dashboardを活用したAWSサービスの健全性追跡    | AWS Health Dashboard, EventBridge       |

### 1.3.8. インシデント対応・継続的改善

| 機能ID            | 機能名                     | 概要                                                 | 対応するAWSサービス                 |
| ----------------- | -------------------------- | ---------------------------------------------------- | ----------------------------------- |
| **O-INCIDENT-01** | インシデント対応プロセス   | エスカレーションパスとオンコール対応フローの確立     | CloudWatch Alarms, SNS, EventBridge |
| **O-INCIDENT-02** | オブザーバビリティ継続改善 | 指標・アラートの定期見直しとブラインドスポットの対処 | CloudWatch, DevOps Guru             |

## 1.4. 期待される成果物

- フルスタックeコマースアプリケーション
- 包括的なオブザーバビリティ実装の参照実装
- マイクロサービスアーキテクチャのベストプラクティス
- AWSサービス連携パターンの実例（特にオブザーバビリティ関連）
