# 1. AWSオブザーバビリティ学習用eコマースアプリ - MVP機能一覧

## 1.1. 顧客向け機能 (MVP)

### 1.1.1. 商品閲覧・検索 (基本機能)

| 機能ID          | 機能名           | 概要                                 |
| --------------- | ---------------- | ------------------------------------ |
| **C-BROWSE-01** | 商品一覧表示     | ユーザーが閲覧可能な商品リストの表示 |
| **C-BROWSE-02** | 商品詳細表示     | 個別商品の詳細情報と画像の表示       |
| **C-BROWSE-03** | カテゴリー別表示 | カテゴリーに基づいた商品の分類と表示 |
| **C-BROWSE-07** | 在庫状況表示     | 商品の在庫状況と在庫不足の表示       |

### 1.1.2. ショッピングとチェックアウト (シンプルな実装)

| 機能ID        | 機能名     | 概要                                                                |
| ------------- | ---------- | ------------------------------------------------------------------- |
| **C-SHOP-01** | カート機能 | 商品の追加/削除とカート内容表示（クライアントサイドのみの単純実装） |
| **C-SHOP-02** | 注文処理   | カートからチェックアウトと注文確定プロセス（シンプルなフロー）      |

## 1.2. 管理者向け機能 (MVP)

### 1.2.1. 商品管理 (基本機能)

| 機能ID        | 機能名       | 概要                                 |
| ------------- | ------------ | ------------------------------------ |
| **A-PROD-01** | 商品情報管理 | 商品データの基本的な管理（CRUD操作） |
| **A-PROD-02** | 商品登録機能 | 管理者による新規商品の登録と情報入力 |

### 1.2.2. 在庫管理 (最小実装)

| 機能ID       | 機能名         | 概要                                 |
| ------------ | -------------- | ------------------------------------ |
| **A-INV-01** | 在庫レベル監視 | 全商品の在庫状況の監視と基本的な表示 |
| **A-INV-03** | 在庫更新       | 在庫数の手動更新機能                 |

## 1.3. オブザーバビリティ機能 (MVP)

### 1.3.1. ログ関連

| 機能ID       | 機能名               | 概要                                           |
| ------------ | -------------------- | ---------------------------------------------- |
| **O-LOG-01** | 構造化ログ収集       | JSON形式での統一的なログ形式実装と収集         |
| **O-LOG-02** | ログレベル管理       | ERROR/WARN/INFO/DEBUGの適切な使い分け          |
| **O-LOG-03** | コンテキスト情報付与 | リクエストID、ユーザーIDなどの情報をログに追加 |

### 1.3.2. メトリクス収集

| 機能ID          | 機能名                   | 概要                                                        |
| --------------- | ------------------------ | ----------------------------------------------------------- |
| **O-METRIC-01** | 基本メトリクス収集       | リクエスト数、レイテンシー、エラー率の測定                  |
| **O-METRIC-02** | インフラメトリクス収集   | CPU/メモリ使用率、ディスクI/O、ネットワークスループット計測 |
| **O-METRIC-03** | レスポンスタイム分布測定 | p50, p90, p95, p99パーセンタイルの計測                      |

### 1.3.3. 分散トレース

| 機能ID         | 機能名                 | 概要                                                  |
| -------------- | ---------------------- | ----------------------------------------------------- |
| **O-TRACE-01** | 分散トレース実装       | リクエスト追跡、SQLクエリトレース、サービスマップ生成 |
| **O-TRACE-02** | トレースSDK統合        | Echo、sqlboiler統合とカスタムサブセグメント追加       |
| **O-TRACE-03** | トレースフィルタリング | 特定のリクエストやエラーケースを効率的に検索          |

### 1.3.4. アラートと可視化

| 機能ID         | 機能名             | 概要                                     |
| -------------- | ------------------ | ---------------------------------------- |
| **O-ALERT-01** | ヘルスチェック     | エンドポイント提供と依存サービス接続確認 |
| **O-ALERT-02** | 基本アラート       | エラー率や異常なレイテンシーの検出と通知 |
| **O-DASH-01**  | 基本ダッシュボード | API利用状況と可視化                      |
| **O-DASH-02**  | サービスマップ     | サービス間依存関係の可視化               |

## 1.4. MVPからの段階的機能拡張

MVP実装後は、以下の順序で機能を追加していきます：

1. **高度なオブザーバビリティ機能**
   - CloudWatch Synthetics: ユーザーフロー監視
   - CloudWatch RUM: 実際のユーザー体験計測
   - 異常検出: 動的ベースラインによるアラート

2. **ユーザー管理機能**
   - ユーザー登録・ログイン
   - プロフィール管理
   - お届け先住所管理

3. **商品機能強化**
   - 高度な商品検索
   - 商品レビュー機能
   - 商品レコメンデーション

4. **注文管理強化**
   - 注文履歴・トラッキング
   - 複数配送先対応
   - 支払い機能強化

5. **マイクロサービス化**
   - サービス分割
   - API Gateway導入
   - 認証・認可の一元管理

6. **イベント駆動機能**
   - 在庫変動通知
   - 価格変更通知
   - 非同期処理フロー

## 1.5. ユーザー体験フロー (MVP)

### 1.5.1. 商品閲覧と購入フロー

1. ホームページで商品カテゴリーを閲覧
2. 特定カテゴリーを選択して商品一覧表示
3. 商品をクリックして詳細ページに移動
4. 「カートに追加」ボタンをクリック
5. カートページに移動して内容を確認
6. 注文確定ボタンをクリックしてシンプルな注文フォームに入力
7. 注文完了画面で注文番号を確認

### 1.5.2. 管理者操作フロー

1. 管理者ページにアクセス
2. 商品一覧で在庫状況を確認
3. 商品の在庫数を更新
4. 新規商品を追加
5. 商品情報の編集
